<?xml version="1.0" encoding="utf-8" ?>
<rss version="2.0" xmlns:content="http://purl.org/rss/1.0/modules/content/" xmlns:wfw="http://wellformedweb.org/CommentAPI/" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>jimkang.com</title>
    <atom:link href="http://jimkang.com/feed.xml" rel="self" type="application/rss+xml"></atom:link>
    <link>http://jimkang.com</link>
    <description>It's dot com.</description>
    <pubDate>Sun, 14 Jan 2018 19:00:00 -0500</pubDate>
    <generator>Wintersmith - https://github.com/jnordberg/wintersmith</generator>
    <language>en</language>
    <item>
      <title>Platform-free bots</title>
      <link>http://jimkang.com/weblog/articles/platform-free-bots/</link>
      <pubDate>Sun, 14 Jan 2018 19:00:00 -0500</pubDate>
      <guid isPermaLink="true">http://jimkang.com/weblog/articles/platform-free-bots/</guid>
      <author></author>
      <description>&lt;p&gt;I’ve made &lt;a href=&quot;https://twitter.com/deathmtn/lists/robotic-council-of-doom/members&quot;&gt;several bots&lt;/a&gt; over the years. They’re mostly Twitter bots. Some of them are throwaway larks, and some of them only work in the moment. If Twitter becomes too harmful to humanity to gift with free content, I’m OK with letting those go. However, there are many bots whose fate I want to keep in my own hands, rather than Twitter’s. To that end, I built a &lt;a href=&quot;https://github.com/jimkang/static-web-archive-on-git&quot;&gt;static site updater&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;more&quot;&gt;&lt;/span&gt;&lt;/p&gt;
&lt;h3&gt;Motivation&lt;/h3&gt;

&lt;p&gt;For a long time, I’ve been bothered by concerns that that are often discussed in the bot community, such as:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;What if the company behind Twitter (or any other platform, really) goes out of business?&lt;/li&gt;
&lt;li&gt;What if people just stop using Twitter?&lt;/li&gt;
&lt;li&gt;What if Twitter just decides to ban your bot and not explain it? Or &lt;a href=&quot;http://jimkang.com/weblog/articles/twitter-bot-hellban/&quot;&gt;hellban it&lt;/a&gt;?&lt;/li&gt;
&lt;li&gt;What if, in the future, &lt;a href=&quot;https://www.wired.com/story/after-fcc-vote-net-neutrality-fight-moves-to-courts-congress/&quot;&gt;internet access is hard to come by&lt;/a&gt;?&lt;/li&gt;
&lt;li&gt;What if you want to find old tweets by your bot? This is notoriously difficult for any Twitter user right now.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Twitter does have an archive request feature. You can request your account archives from right now by going to settings in the Twitter web app. However, this doesn’t give me much comfort because:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;The archives do not include images or video, which are the main medium of some bots.&lt;/li&gt;
&lt;li&gt;Under duress, I’m not sure you’ll be able to get the archives. When Vine shut down, I requested my archive. I got a notification that said the archiving process started, but it didn’t complete before the company and service shut down. I never got my archive.&lt;/li&gt;
&lt;li&gt;Twitter can stop offering the archives at any time.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;I could have my bots crosspost to Tumblr and Mastodon, and some do. The issue is that, although the eggs are now in multiple baskets, the baskets still have many of the same problems: various sorts of potential inaccessiblity&lt;/p&gt;
&lt;p&gt;There is something that is likely to last longer than any social media platform, though: &lt;strong&gt;HTML &amp;mdash; the nearly three-decades-old Hypertext Markup Language.&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;em&gt;That&lt;/em&gt; is the format I need my bots’ output to be in. I meant to  make them post to plain HTML for a while, but inertia is hard to fight.&lt;/p&gt;
&lt;p&gt;When Vine shut down, I had a Vine account that was very valuable to my extended family. So, I built a &lt;a href=&quot;https://github.com/jimkang/off-brand-vine&quot;&gt;service that handled simple video posting&lt;/a&gt; on my own server. Doing this gave me some code I could reuse to finally make my platform-free bot archives.&lt;/p&gt;
&lt;h3&gt;How to use it&lt;/h3&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/jimkang/static-web-archive-on-git&quot;&gt;static-web-archive-on-git&lt;/a&gt; is a Node module that will maintain a static weblog for you. From the README:&lt;/p&gt;
&lt;blockquote&gt;The idea here is that you have a GitHub repo that is the source for a lightweight static weblog, and you have a program that you want to update it programmatically.&lt;/blockquote&gt;

&lt;p&gt;If you have a bot written in Node, it can take whatever it posts to Twitter or Mastodon (some text and an image or a video) and also post that to its static web archive by calling a function.&lt;/p&gt;
&lt;p&gt;By doing so, it will build an archive of the bot’s content &amp;mdash; including media &amp;mdash; that is &lt;em&gt;extremely portable&lt;/em&gt;.&lt;/p&gt;
&lt;p&gt;It stores the html (the index pages and single-entry pages, classic weblog-style) in a GitHub repo. With this, you can do any of the following:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Make the default branch of that repo &lt;code&gt;gh-pages&lt;/code&gt; and &lt;a href=&quot;https://pages.github.com&quot;&gt;automatically get a working web site&lt;/a&gt; at &lt;code&gt;your-username.github.io/repo-name&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;Pull down the contents of that repo to some server you control that has a web server on it and serve it from there.&lt;/li&gt;
&lt;li&gt;Send the contents to the &lt;a href=&quot;https://archive.org&quot;&gt;Internet Archive&lt;/a&gt;.&lt;/li&gt;
&lt;li&gt;Zip it all up and keep it wherever you think is safe and let future archaeologists find it. (If they have a thing that can read images and text, they’ll figure it out if they understand your language. If they have a thing that reads HTML, then they’ll be golden.)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Whatever you do with your HTML, it won’t matter what Twitter does.&lt;/p&gt;
&lt;p&gt;I’ve already integrated it into my bot &lt;a href=&quot;https://twitter.com/linkfinds&quot;&gt;linkfinds&lt;/a&gt;. Its archive is over at &lt;a href=&quot;http://jimkang.com/linkfound/&quot;&gt;jimkang.com/linkfound&lt;/a&gt;. I’m going to try to get all of my bots posting to archives. I’m sure I’ll find bugs, but I’m fairly sure it’ll eventually work for most of them.&lt;/p&gt;
&lt;p&gt;&lt;a name=&quot;archive-list&quot;&gt;&lt;/a&gt;
&lt;strong&gt;Update, 1/31/2018:&lt;/strong&gt; So, I’ve set up archiving for most of my bots. It’s surprisingly nice to see them outside of the Twitter frame. The design is not complete for some of them, but they’re all functional. Check ‘em out:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;http://jimkang.com/linkfound/&quot;&gt;Link Finds&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://jimkang.com/ourmagickfuture/&quot;&gt;Our Magick Future&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://jimkang.com/hail-ants-archive/&quot;&gt;Hail Ants Bot&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://jimkang.com/snakepeoplebot/&quot;&gt;Snake People Bot&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://jimkang.com/memberfacts/&quot;&gt;Member Facts&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://jimkang.com/spaceweirdnessbot/&quot;&gt;Space Weirdness Bot&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://jimkang.com/bot-in-the-street/&quot;&gt;Bot in the Street&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://jimkang.com/improvebot/&quot;&gt;Improvebot&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://jimkang.com/demake-archive/&quot;&gt;Demake Bot&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://jimkang.com/pokemon-nypl-archive/&quot;&gt;Pokémon in the NYPL&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://jimkang.com/fuckingshakespeare/&quot;&gt;Fucking Shakespeare&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://jimkang.com/businesswords-archive/&quot;&gt;Business Words&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://jimkang.com/contingency-messages/&quot;&gt;Contingency Messages&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://jimkang.com/cleromancer/&quot;&gt;Cleromancer&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://jimkang.com/autocompletejok/&quot;&gt;Autocomplete Jokes&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://jimkang.com/monstersubtypes/&quot;&gt;Monster Subtypes&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://jimkang.com/autocompleterap-archive/&quot;&gt;Autocomplete Rap&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://jimkang.com/2020-candidates/&quot;&gt;2020 Candidate Bot&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://jimkang.com/godtributes-archive/&quot;&gt;GODTRIBUTES&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://jimkang.com/hills-archive/&quot;&gt;Hills bot&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;Limitations&lt;/h3&gt;

&lt;p&gt;There are quite a few limitations to this approach, many of which you may have noticed:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;This only works for bots whose meaning can be divorced from a particular medium.&lt;/strong&gt; Much of what people like about &lt;a href=&quot;https://twitter.com/godtributes&quot;&gt;godtributes&lt;/a&gt;, for example, is how it responds to them. The lion’s share of its tweets are responses, and they are mostly only meaningful to the person it’s replying to. That cannot be captured through this kind of archiving, as it’s only part of the story.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;Archives cannot replicate the experience of bots dropping into your life by making tiny, occasional visits.&lt;/strong&gt; &lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;The current implementation depends on another massive VC-funded company, GitHub.&lt;/strong&gt; Like all companies in this position, it may not survive that long or may become too detrimental to the world to touch. &lt;/p&gt;
&lt;p&gt;The shutting-down concern is mitigated by the fact that it’s pretty easy to regularly and incrementally download the contents posted to GitHub (that’s what git is made for).&lt;/p&gt;
&lt;p&gt;If I need to get off of the platform because I want nothing to do with it, it is actually easy to remove the GitHub parts from &lt;code&gt;static-web-archive-on-git&lt;/code&gt; and have it maintain a local archive of HTML files. &lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;This, however, comes with the trade-off that, should it mess up in a destructive way, everything could be lost. You would not be able to get everything back after an accidental wipe by reverting to a previous commit as you could with a git-backed archive.&lt;br /&gt;&lt;br /&gt;&lt;ul&gt;
&lt;li&gt;However, this problem itself could be mitigated by backing the whole thing up regularly.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;It is Node-specific.&lt;/strong&gt; At some point, I can plug this into a simple REST service so that any bot can use it, regardless of how it is built as long as it can make an http request. It’s not known if anyone really needs this yet, so I haven’t bothered.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;Updating the archive is slow&lt;/strong&gt; because there are stalling &lt;code&gt;setTimeout&lt;/code&gt; calls everywhere.&lt;/p&gt;
&lt;p&gt;Internally, the GitHub API makes updates via commits. &lt;a href=&quot;https://developer.github.com/v3/repos/contents/#update-a-file&quot;&gt;The update REST method&lt;/a&gt; does not take a parent commit SHA because it figures out which one it should use on its own. Unfortunately, it also seems to respond to REST calls before it actually applies whatever commit it creates &lt;em&gt;across the board&lt;/em&gt;.&lt;/p&gt;
&lt;p&gt;I’ve observed the following race condition:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;We send an http request for Update 1 via the &lt;a href=&quot;https://developer.github.com/v3/repos/contents/#update-a-file&quot;&gt;GitHub API update file method&lt;/a&gt;.&lt;/li&gt;
&lt;li&gt;The Github API sends a response to Update 1 that indicates that it worked fine.&lt;/li&gt;
&lt;li&gt;Thinking that the branch is updated, we send a request for Update 2.&lt;/li&gt;
&lt;li&gt;The GitHub API responds to Update 2 with an error status code (409), citing that it’s a commit based on a commit that is &lt;strong&gt;not&lt;/strong&gt; the current tip of the branch.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;I don’t know what’s happening internally, but my guess is that a commit created for an API call does not propagate to all API servers by the time a response is sent back for that API call. e.g. Something like this is going on:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Commit 0 is the tip of the branch on all GitHub machines.&lt;/li&gt;
&lt;li&gt;Update 1 is received by Machine A, and Commit 1 is created, using Commit 0 as a parent.&lt;/li&gt;
&lt;li&gt;Machine B applies Commit 1; Commit 1 is the tip of the branch on Machines B, D, and some other GitHub machines now, but not on Machine C.&lt;/li&gt;
&lt;li&gt;A response for Update 1 is sent back by some machine.&lt;/li&gt;
&lt;li&gt;Update 2 happens to be received by Machine C, which does not have the latest yet, and Commit 2 is created, using Commit 0 as the parent.&lt;/li&gt;
&lt;li&gt;Machine D attempts to apply Commit 2. Here, Commit 1 is the tip of the branch, so it fails.&lt;/li&gt;
&lt;li&gt;A response for Update 2 is sent back with an error message like &lt;code&gt;&amp;quot;is at 1 but expected 0&amp;quot;&lt;/code&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;The above scenario is pure speculation, but the following is definitely true: &lt;strong&gt;Updates are not atomic.&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;The setTimeouts are an attempt to space out update calls in order to avoid these wrong-commit-parent clashes. They don’t always, but they do most of the time. I’ve used &lt;a href=&quot;https://github.com/jimkang/off-brand-vine&quot;&gt;this code&lt;/a&gt; for about eight months as of 1/15/2018, and it’s mostly been fine, FWIW. Obviously, it’s not going to work out for extremely real-time-dependent archiving purposes, though.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;hr /&gt;

&lt;p&gt;Well, that’s it. May you enjoy being platform-free via one method or another!&lt;/p&gt;
</description>
    </item>
    <item>
      <title>Weird, but worth it</title>
      <link>http://jimkang.com/weblog/articles/weird-but-worth-it/</link>
      <pubDate>Fri, 13 Oct 2017 20:00:00 -0400</pubDate>
      <guid isPermaLink="true">http://jimkang.com/weblog/articles/weird-but-worth-it/</guid>
      <author></author>
      <description>&lt;style&gt;
li p {
  margin-bottom: 0.5em;
}

li {
  line-height: 1.3em;
  padding-left: 0;
}

ul {
  margin-top: 0.5em;
}

.caption {
  text-align: center;
  font-style: italic;
  margin-top: 0;
  margin-bottom: 1em;
}

&lt;/style&gt;

&lt;p&gt;I have a web page at which I was rendering 14,000 DOM elements. &lt;a href=&quot;http://jimkang.com/observatory/&quot;&gt;(It’s this work-in-progress visualizer for GitHub projects. And maybe someday other projects, too?)&lt;/a&gt; Things were getting choppy under that load, especially on the phone.&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;more&quot;&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;observatory-screenshot.png&quot; alt=&quot;Screenshot of Observatory&quot; width=&quot;100%&quot;&gt;&lt;/img&gt;&lt;/p&gt;
&lt;div class=&quot;caption&quot;&gt;Above: A few of the 14,000 DOM nodes&lt;/div&gt;

&lt;p&gt;To mitigate the clunkiness, I tried:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Throttling the render calls. (Observatory re-renders each time it gets new chunks of data so as to not make users sit there for a long time with a blank page.)&lt;/li&gt;
&lt;li&gt;Resizing and repositioning the text labels to fit inside of their areas much less frequently. (In order to resize and reposition, Observatory had to make expensive calls to getBBox.)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;These things helped a little, but on iOS, I still had to wait seconds for a response when I would tap one of the cells. Sometimes, more than ten seconds. (When a cell is clicked, a detail overlay is supposed to come up, telling you more about the deed represented by the cell.)&lt;/p&gt;
&lt;p&gt;At this point, I considered a video-game-style scheme in which Observatory would only render things contained in a fixed-size viewport. It’d have to assess what data in the treemap (which I am building via d3-hierarchy) would be visible in that viewport, then render just that. Then, I’d have to implement some control scheme for moving the viewport.&lt;/p&gt;
&lt;p&gt;Guh.&lt;/p&gt;
&lt;p&gt;That was complex enough that I then decided it was time try rendering to canvas instead of SVG.
The reasons I am hesitant to use canvas for visualizations, despite it being faster and less memory-intensive than SVG are:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;SVG is far more easily debugged. Because SVG elements appear in the DOM, if something is going wrong, you can right-click on whatever looks wrong in the browser, then inspect that SVG element. You can even change its properties right on the spot. This lets you experiment live with potential fixes or, at the least, gets you more information. This has been invaluable to me while working on &lt;a href=&quot;http://jimkang.com/quadtreevis/&quot;&gt;An Interactive Explanation of Quadtrees&lt;/a&gt; and other complex renderings.&lt;/li&gt;
&lt;li&gt;In the past, I’ve found raster graphics situations (Unity, Core Graphics) to be very finicky about rendering crisp lines.&lt;/li&gt;
&lt;li&gt;You can put event handlers on individual SVG elements. You can easily and reliably get notified about clicks or taps to a &amp;lt;path&amp;gt; or &amp;lt;rect&amp;gt; or even a &amp;lt;g&amp;gt;. By contrast, because the content of a &amp;lt;canvas&amp;gt; is basically just a picture, it’s all on you to figure out what’s being clicked.&lt;/li&gt;
&lt;li&gt;Accessibility: A treemap isn’t easily comprehendible to someone without sight, but at least it exists in the DOM and can be detected. A canvas, again, is more or less just an image.
Despite all that, converting to rendering to canvas didn’t go that badly! (Here’s most of the changes in code form, if you’re into that.) I had to do some odd things, though, which I’ll explain below.&lt;/li&gt;
&lt;/ul&gt;
&lt;h1&gt;Step on a crack, break your mama’s back&lt;/h1&gt;

&lt;p&gt;When rendering 1px borders around the cells in my treemap, I had to position lines so that their centers fell on the middle of pixels (e.g. 1.5 instead 1.0) so that the line’s width fell entirely within one pixel instead of at the border of two.&lt;/p&gt;
&lt;h1&gt;Imperative, not declarative&lt;/h1&gt;

&lt;p&gt;&amp;lt;canvas&amp;gt; elements don’t accept width values in percentages, so I had to start with a fixed pixel width value, then adjust it in JavaScript while rendering.&lt;/p&gt;
&lt;h1&gt;Secret canvases&lt;/h1&gt;

&lt;p&gt;As mentioned above, you have to do a bunch of work to catch clicks to shapes you’ve drawn in canvas. Fortunately, Yannick Assogba wrote a &lt;a href=&quot;https://bocoup.com/blog/2d-picking-in-canvas&quot;&gt;really good article&lt;/a&gt; about this technique in which you create a secret hidden &amp;lt;canvas&amp;gt; and draw the same shapes to it that you do to your “display” &amp;lt;canvas&amp;gt;. In the hidden one, you assign unique colors to each shape. (Assuming you don’t want to make your hidden canvas transparent, which costs extra, performance-wise, you can have as many shapes as there are colors, and there are 0xFFFFFF of them–16,777,215 colors.) You keep a map from those unique colors to the associated datum or shape. Then, when someone clicks on the hidden canvas, you find the color of the pixel that was clicked and can use the map to find out what datum or shape is associated with it!&lt;/p&gt;
&lt;p&gt;In Yannick’s example, he only renders the hidden canvas in the event handler for the main canvas click. That’s intense, and while it does save on renders, I was a concerned that it’d make the event handler slow. In retrospect, I could see the render time being imperceptible. But I went with rendering every time the main, visible canvas was rendered. This approach happens to perform fine on mobile and desktop, so I left it like that.&lt;/p&gt;
&lt;p&gt;The article puts the event handler on the main, visible canvas, then uses the click coordinates from that canvas to look up colors in the hidden canvas. The HTML is not specified, but I assume this means the hidden canvas is meant to be hidden by placing it off-screen. Having had some bad experiences with putting elements off-screen (left: -10000px) when doing some “menu that slides in from the left” stuff a few years ago, I decided to avoid that. I just stuck the hidden canvas on top of the main, visible canvas. Of course, to do that, I had to mess with position: absolute, but I lived.&lt;/p&gt;
&lt;p&gt;I had apprehensions about this technique because it is indeed a hack. (Also, it reminds me of the ancient HTML 2.0 &amp;lt;imagemap&amp;gt;.) But it works well, and I see another potential use for it: Easily making click targets diverge in size and shape from their visually rendered counterparts.&lt;/p&gt;
&lt;p&gt;&lt;h1&gt;Smudgy text&lt;/h2&gt;&lt;/p&gt;
&lt;p&gt;When I rendered text onto the canvas with fillText, I got some horrible, horrible smudgy text. Nothing sends the subliminal message this is crap like text with mealy blurriness or ragged aliasing. Googling led me to believe there is no reliable way to get crisp canvas text, but definitely let me know if you know how!&lt;/p&gt;
&lt;p&gt;What I ended up doing was bringing back an SVG layer just for text. I put it over my visible canvas layer and added text elements. I end up creating a few hundred of those, with transforms on them. It all seems to still perform snappily.&lt;/p&gt;
&lt;p&gt;I still use canvas when figuring out how to size the text and whether or not it should be rotated. (If the label for a region is taller than it is wide, it should be rotated so that it is written vertically.) I use the canvas context’s measureText method to determine how wide the label will be.&lt;/p&gt;
&lt;p&gt;Before, I had to use the SVGtext element’s getBBox method, which was incredibly slow. (Sorry, I don’t have the profile anymore, but if you use it in your code, Chrome warns you about it specifically in the console.) By contrast, measureText can be called many times on every render without any problem. In fact, it’s so fast that the next time I have to figure out what the size of an SVG text element will be at a given font and size, I might use a hidden canvas to do it, even if there is no other reason for the canvas.&lt;/p&gt;
&lt;p&gt;Also, SVG text is readable by screen readers, so this extra SVG layer may be worth having, even if you crisp canvas text was available.&lt;/p&gt;
&lt;hr /&gt;

&lt;p&gt;So, my project now uses this uncomfortable-seeming Canvas/SVG Combination Platter. It’s strange, but it’s also snappy and consistent! I’m glad I tried it.&lt;/p&gt;
&lt;p&gt;P.S. &lt;a href=&quot;https://www.youtube.com/watch?v=s7eGq1VXupw&quot;&gt;This talk about canvas by Kai Chang&lt;/a&gt; &lt;a href=&quot;https://bl.ocks.org/syntagmatic/raw/c157cd20973d7f92e913fac28cfa8a56/#1&quot;&gt;(slides)&lt;/a&gt; from OpenVis Conf last year is really good.&lt;/p&gt;
</description>
    </item>
    <item>
      <title>Organizational failure at a garage</title>
      <link>http://jimkang.com/weblog/articles/garage-organizational-failure/</link>
      <pubDate>Sat, 25 Feb 2017 19:00:00 -0500</pubDate>
      <guid isPermaLink="true">http://jimkang.com/weblog/articles/garage-organizational-failure/</guid>
      <author></author>
      <description>&lt;p&gt;&lt;b&gt;Saturday, 11 AM&lt;/b&gt;&lt;/p&gt;
&lt;p&gt;I talked to a friendly manager at a garage in the morning on Saturday. He explained a problem with my car via a demonstration, which was novel to me. It won me over and made me feel I could trust this garage. He said they could probably have the problem fixed by 6 PM that night, but if not certainly by Sunday. I agreed to the repair and left.&lt;/p&gt;
&lt;p&gt;That turned out to be a mistake.&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;more&quot;&gt;&lt;/span&gt;&lt;/p&gt;
&lt;h3&gt;Saturday, 5:44 PM&lt;/h3&gt;

&lt;p&gt;I called them later that day on Saturday, at 5:44 PM. I talked to the friendly manager again, and he explained that they needed a part and would fix it first thing Sunday morning. I could pick up my car at noon on Sunday, he told me. I said that sounded good.&lt;/p&gt;
&lt;h3&gt;Sunday, 11:50 AM&lt;/h3&gt;

&lt;p&gt;On Sunday, I called at 11:50 AM. The person who answered said my car hadn’t been worked on. He said the mechanic would be in any minute, and that they’d let me know when they worked on it. I told him that the manager said it would be ready to pick up by 12. The person got agitated and rushed me off the call. (Also, he called me “honey”, which was odd.)&lt;/p&gt;
&lt;h3&gt;Sunday, 12:33 PM&lt;/h3&gt;

&lt;p&gt;After hearing nothing, I called back at 12:33 PM. The mechanic had still not arrived.&lt;/p&gt;
&lt;p&gt;I was disappointed, but since it was a non-critical repair, I decided I’d just skip the repair, take back the car, get groceries, and have the repair done somewhere else next weekend.&lt;/p&gt;
&lt;p&gt;I said OK, I’m going to just get the car. &lt;i&gt;Don’t&lt;/i&gt; do the repair even if the mechanic does come in.&lt;/p&gt;
&lt;p&gt;The person answering the phone was the same one I talked to last call. He said OK, but I couldn’t pick it up until the mechanic came in because the car was on a lift. I asked him to please call me when the mechanic does come in.&lt;/p&gt;
&lt;h3&gt;Sunday, 2:55 PM&lt;/h3&gt;

&lt;p&gt;No word. I called again at 2:55 PM. A different person answers.&lt;/p&gt;
&lt;p&gt;I told him that I wanted to pick up my car and asked them to &lt;b&gt;not&lt;/b&gt; do the repairs. He replied that the repairs have already been done.&lt;/p&gt;
&lt;p&gt;I found it disturbing that this garage ignored my request, but I was glad that at least I could get the car back. I walked to the garage.&lt;/p&gt;
&lt;p&gt;When I got to the garage, there was a single employee in the office. He said that he tried to call me and tell me not to come down, but I didn’t answer. I may have missed the call.&lt;/p&gt;
&lt;p&gt;He explained that my car was not there at the garage.&lt;/p&gt;
&lt;p&gt;Where is it, then? I asked. I would like it back.&lt;/p&gt;
&lt;p&gt;He replied that:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;The mechanic should have been in but he didn’t come in.&lt;/li&gt;
&lt;li&gt;The garage is part of a “big business” that has many garages, and it could be at one of those garages; he doesn’t know—he’s just the gas attendant.&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;Neither of those responses explained where my car is. Also, no one mentioned before that my car might be shipped to another location.&lt;/p&gt;
&lt;p&gt;I asked if I could talk to his manager. He didn’t like this, but he picked up the phone, called, and asked about my car. After he hung up, he told me his manager didn’t know. He said I should just call back tomorrow.&lt;/p&gt;
&lt;p&gt;I asked if I could have the manager’s number and talk to him directly. He replied no, his manager was busy and with his family. Then, I asked if I could talk to the mechanic he mentioned. He also said no to that.&lt;/p&gt;
&lt;p&gt;He went out to service some gas customers that had pulled in.&lt;/p&gt;
&lt;p&gt;There was another customer in the office with me. She explained that she was in the same situation. She let them do some extremely expensive repairs and was originally told they’d be done Saturday. The garage still did not have her car ready and could not even tell her where her car was. She needed to pick it up now so she could drive to visit her husband in a nursing home that day.&lt;/p&gt;
&lt;p&gt;I offered to contact her if I got a hold of the manager or the mechanic or found where my car was. She declined, wished me luck, and went home.&lt;/p&gt;
&lt;p&gt;When the gas attendant (the sole available garage employee) came back in, I asked again: Is there a manager I can talk to or another way I could get my car back now? Again, he said no.&lt;/p&gt;
&lt;p&gt;I walked out to go around the block to see if it was parked on the street.&lt;/p&gt;
&lt;p&gt;It was not.&lt;/p&gt;
&lt;h3&gt;Sunday, 3:25 PM&lt;/h3&gt;

&lt;p&gt;I could wait to see if things worked out. Now, however, I doubted everything about this business. I felt that if I didn’t deal with it today, there was a chance I’d have to deal with the same issue tomorrow, except I’d have to do it under the constraints of a weekday.&lt;/p&gt;
&lt;p&gt;Also, I now found it minutely possible that my car was lost, stolen, damaged, or in another condition the garage wanted to hide. I called the Cambridge Police non-emergency number to see if they had any advice on the situation.&lt;/p&gt;
&lt;p&gt;I explained, and the police officer on the phone asked where I was and said he’d send an officer out. I was a little surprised and said I didn’t want to cause trouble — I just wanted to get my car. The police officer said he understood and that they’d get it straightened out. He reacted so quickly that I think there is a chance that this a common issue.&lt;/p&gt;
&lt;p&gt;While I was waiting, I wrung my hands about whether I was being unreasonable or not. On one hand, it’s not the fault of the person at the garage that no one told him where my car is. I have seen this cruel firewall of accessibility at many companies, which puts low-ranking employees and upset customers on one side and the actual creators of the problems safely isolated on the other. &lt;/p&gt;
&lt;p&gt;On the other, I have the right to know where my car is and to get it back at the time they communicated that I could. I had already tried asking directly for this access.&lt;/p&gt;
&lt;p&gt;When the police officer arrived, I explained again that I didn’t want any hardships for anyone — I just needed my car back. We went into the office, and he basically asked the same things I did, except more directly.&lt;/p&gt;
&lt;p&gt;This time, the garage employee called his manager and left a message asking about my car and noting that the police were here. He also called that manager’s manager, who spoke to us.&lt;/p&gt;
&lt;p&gt;The “big boss” said that he didn’t know where my car was but that he’d find out and get us a call back.&lt;/p&gt;
&lt;p&gt;The police officer left and said to call them back if they didn’t produce the car. I thanked him, then sat in the office for an extremely awkward wait.&lt;/p&gt;
&lt;p&gt;The manager I had originally talked to on Saturday called. Over the phone, he explained that the car actually was still in the garage on a lift. &lt;i&gt;It had never actually left&lt;/i&gt;. &lt;/p&gt;
&lt;p&gt;The employee in the office then actually blamed &lt;b&gt;me&lt;/b&gt; for not knowing this, even though &lt;em&gt;he&lt;/em&gt; was the one who told me my car was not here. I had taken him at his word.&lt;/p&gt;
&lt;p&gt;The manager apologized on this call and also offered the defenses that:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;This normally doesn’t happen.&lt;/li&gt;
&lt;li&gt;The mechanic is the root of these problems.&lt;/li&gt;
&lt;li&gt;The employee in the office right now is just a gas attendant and doesn’t actually know how things work.&lt;/li&gt;
&lt;li&gt;Mechanics don’t normally work on Sundays.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;During the discussion, I tried to make the points that:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;It’s OK to be behind on work, but it is wrong and possibly illegal to deny customers access to their car after the point at which the business says it will be available.&lt;/li&gt;
&lt;li&gt;It is wrong to not be able to tell customers where there car is.&lt;/li&gt;
&lt;li&gt;It is terrible to give customers the impression that their car has been moved to another site without their consent.&lt;/li&gt;
&lt;li&gt;If the only person working at the office is a gas attendant who is not able or intended to know where the customers’ cars are, it is still the business’s responsibility to be able to tell customers where their cars are and when they can get them. The business should get someone else to answer those calls.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;(I didn’t say this on the call, but if a business can’t provide a way to inform customers on the whereabouts of their cars, then it should tell customers up front before they submit their cars that once they give up the car, they may not be told about its whereabouts or condition for an unpredictable number of days. Be honest about the level of service you can provide.)&lt;/p&gt;
&lt;p&gt;I have no idea how much of what I said was accepted. The manager said that they would complete the work on my car sometime on Monday morning and that he would give me a “small discount” on the work.&lt;/p&gt;
&lt;p&gt;I pointed out that I already called around 12:30 PM that day to tell them not to do the work. Apparently, that call was either unprocessed or completely ignored. I asked to not be charged for that work and for them to just put whatever they took out back in so I could retake possession. He reluctantly agreed to that.&lt;/p&gt;
&lt;h3&gt;Tomorrow&lt;/h3&gt;

&lt;p&gt;Unfortunately, I’m not sure how much that agreement means. I will find out tomorrow.&lt;/p&gt;
</description>
    </item>
    <item>
      <title>How a bot (may) get caught in a (possible) Twitter hellban</title>
      <link>http://jimkang.com/weblog/articles/twitter-bot-hellban/</link>
      <pubDate>Tue, 21 Jun 2016 20:00:00 -0400</pubDate>
      <guid isPermaLink="true">http://jimkang.com/weblog/articles/twitter-bot-hellban/</guid>
      <author></author>
      <description>&lt;p&gt;People were reporting to me that my bot, &lt;a href=&quot;https://twitter.com/linkfinds&quot;&gt;@linkfinds&lt;/a&gt;, was replying to them, and they were getting notifications, but when they went to check their mentions (the “Notifications” tab in web Twitter), the reply was not there. They could see the reply if they scrolled down in their timelines, however.&lt;/p&gt;
&lt;p&gt;For them, it was a frustrating experience. They’d get a notification, then go to Notifications and couldn’t find anything.&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;more&quot;&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;I read Twitter on the computer via Tweetbot for Mac. I did a few tests from there, and things seemed fine – replies to me showed up in my Tweetbot “Mentions” tab. I’ve been busy, so sadly, it slipped out of my focus.&lt;/p&gt;
&lt;p&gt;Another wave of people brought it up, though, and I did check it out again, and I did see it happen on web Twitter and the iOS Tweetbot. Dant-dant-dah!&lt;/p&gt;
&lt;p&gt;I did various experiments with setting reply-related in the bot’s reply &lt;a href=&quot;https://dev.twitter.com/rest/reference/post/statuses/update&quot;&gt;posts&lt;/a&gt;. Previously, it had just been setting the &lt;code&gt;in_reply_to_status_id_str&lt;/code&gt; field. I tried setting all of these in various combinations:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;in_reply_to_status_id
in_reply_to_status_id_str
in_reply_to_user_id
in_reply_to_user_id_str
in_reply_to_screen_name
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;None of this mattered; replies still did not show up in the mentions of those they were directed at. That makes sense since &lt;a href=&quot;https://twitter.com/godtributes&quot;&gt;@godtributes&lt;/a&gt;, &lt;a href=&quot;https://twitter.com/mountainkilwala&quot;&gt;@mountainkilwala&lt;/a&gt;, et al only set &lt;code&gt;in_reply_to_status_id_str&lt;/code&gt; or &lt;code&gt;in_reply_to_status_id&lt;/code&gt;, and their replies all show up in their addressees’ Notifications/Mentions.&lt;/p&gt;
&lt;p&gt;Next, I tried running the bot with another account’s credentials. This made a difference. Replies from the bot via that account did show up in mentions. &lt;strong&gt;The problem was with the account itself.&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;I do not know for certain why that account’s replies got filtered from the Twitter Notifications tab. However, I speculate that it has to do with it being tagged as a bot early on. When I created the account, I immediately did the OAuth dance to get a token, then used that token to post with the bot right away.&lt;/p&gt;
&lt;p&gt;I then got an error message from the Twitter API explaining that the account had been disabled for “automated behavior”. At the Twitter web site, I was told I could reenable the account by adding a phone number and verifying it, so I did that.&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Maybe&lt;/em&gt; at this point, the account was placed in some Twitter user segment whose replies are all filtered out of the Notifications tabs. Perhaps this is a sort of hellbanning that prevents spam bots from noticing that they are no longer reaching anyone.&lt;/p&gt;
&lt;p&gt;Here’s some things that I &lt;em&gt;speculate&lt;/em&gt; could have lead to the account disabling and possible user segment tagging:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Posting via API before posting manually via web Twitter.&lt;/li&gt;
&lt;li&gt;Posting before setting up a profile with a userpic.&lt;/li&gt;
&lt;li&gt;Skipping entering a phone number during sign up.&lt;/li&gt;
&lt;li&gt;Adding an app (to get the OAuth token) before setting up a profile with a userpic.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Again, I can’t prove that any of these things matter or that the original @linkfinds account was put in a special user segment are a result. All I can say to botmakers – or all Twitter users, really – is that &lt;em&gt;if your account gets disabled, after you reenable it, check that everything still works before proceeding&lt;/em&gt;.&lt;/p&gt;
&lt;p&gt;As for the Link Finding Things bot, I had no recourse but to move it to another account. So, I changed the original account’s username to &lt;a href=&quot;https://twitter.com/linkfinds_old&quot;&gt;@linkfinds_old&lt;/a&gt;, then created a new account with the username &lt;a href=&quot;https://twitter.com/linkfinds&quot;&gt;@linkfinds&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;I tried to let people know that if they’re following @linkfinds_old, they need to follow &lt;a href=&quot;https://twitter.com/linkfinds&quot;&gt;@linkfinds&lt;/a&gt; instead. I know tons of people will miss that tweet, but it’s all that can be done.&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;link-finds-mysteries.png&quot; alt=&quot;DOO DOO DOO DOO!&quot; width=&quot;100%&quot; /&gt;&lt;/p&gt;
&lt;p&gt;&lt;a name=&quot;twitter-bot-hellban-update&quot;&gt;&lt;/a&gt;
&lt;strong&gt;Update, 6/23/2016:&lt;/strong&gt; Well, after working fine for a while, the new account somehow got flagged such that its notifications don’t show up, either.  ¯\_(ツ)_/¯ I’m not going to spend any more time on this.&lt;/p&gt;
&lt;p&gt;Twitter is a great platform for this kind of entity, yet at the same time, it’s not really at all transparent to developers about things like this. I really wish there was another venue where something like Link Finding Things could live. Well, it does &lt;a href=&quot;http://linkfinds.tumblr.com/&quot;&gt;live on Tumblr&lt;/a&gt;, too, but can’t really interact with followers the same way. From a certain perspective, I’m lucky it wasn’t worse. Other bot makers have had their keys revoked without explanation.&lt;/p&gt;
</description>
    </item>
    <item>
      <title>Freezable children</title>
      <link>http://jimkang.com/weblog/articles/freezable-children/</link>
      <pubDate>Fri, 18 Mar 2016 20:00:00 -0400</pubDate>
      <guid isPermaLink="true">http://jimkang.com/weblog/articles/freezable-children/</guid>
      <author></author>
      <description>&lt;p&gt;I’m not much of writer of the fiction kind, but if I were, I’d take a crack at this premise:&lt;/p&gt;
&lt;blockquote&gt;&lt;b&gt;In the future, humans have the ability and right to put their children into flawless suspended animation.&lt;/b&gt;&lt;/blockquote&gt;

&lt;p&gt;&lt;span class=&quot;more&quot;&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;They can do this until their children accrete eighteen total years of “animated” age.&lt;/p&gt;
&lt;p&gt;So, after a tiring day of childcare, parents freeze their kid and take the next day easy. They can then spend the next couple of days after that working on  projects. And maybe then they can bear down on their jobs, if that’s what they like to do.&lt;/p&gt;
&lt;p&gt;All that time, they can chew over a puzzling day with the kid and come to a considered course of action. When they’re ready, they restore the kid and spend a day or with them, 100% engaged and untired!&lt;/p&gt;
&lt;p&gt;As a result, some parents reach the age of 90 by the time their child is 18 in animated years. Parents more commonly die before their kids become adults. Groups of parents form tribes around whatever limit on suspension they’ve set for themselves. Economic and power disparities risie from the uneven distribution of the privilege of suspension. Paranoia grows about hidden physiological effects of suspension when, in truth, it &lt;i&gt;actually is perfect&lt;/i&gt;.&lt;/p&gt;
&lt;p&gt;Then, there are the effects of adults suspending themselves simply because they don’t like their lives and hope that a few rolls of the dice will change things for the better.&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;frostillicus.jpg&quot; alt=&quot;Behold: Frostillicus!&quot; /&gt;&lt;/p&gt;
&lt;p&gt;(Image courtesy of &lt;a href=&quot;https://frinkiac.com/caption/S09E17/238270&quot;&gt;Frinkiac&lt;/a&gt;.)&lt;/p&gt;
&lt;p&gt;Writers, feel free to have at it!&lt;/p&gt;
</description>
    </item>
    <item>
      <title>Simple inertial scrolling</title>
      <link>http://jimkang.com/weblog/articles/simple-inertial-scrolling-with-d3/</link>
      <pubDate>Wed, 01 Apr 2015 20:00:00 -0400</pubDate>
      <guid isPermaLink="true">http://jimkang.com/weblog/articles/simple-inertial-scrolling-with-d3/</guid>
      <author></author>
      <description>&lt;p&gt;Here’s an example of inertial scrolling without a lot of elaborate plugin business going all over the place.&lt;/p&gt;
&lt;p&gt;The scroll position on web pages can be controlled by simply setting &lt;code&gt;document.body.scrollTop&lt;/code&gt;. Other than that there’s only a couple of things you need for inertial scrolling:&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;more&quot;&gt;&lt;/span&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;A function that tells you how far to move the scroll position based on the time. We want one that gives the impression of inertia, so it’d dictate relatively slow movement at first, then ramp up, then slow down. &lt;code&gt;d3.ease&lt;/code&gt; provides a cubic function like the &lt;a href=&quot;http://easings.net/&quot;&gt;easeInOutCubic here&lt;/a&gt;.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;A timer that updates at intervals so that you can call the easing function to figure out where the scroll position should be and update the scroll position.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;That’s what the example does. If you want to keep your code as small as possible, you can use &lt;a href=&quot;https://github.com/mbostock/smash/wiki&quot;&gt;D3 Smash&lt;/a&gt; to make yourself a little build of D3 that includes only the transition module, which is where &lt;code&gt;d3.timer&lt;/code&gt; and &lt;code&gt;d3.ease&lt;/code&gt; live.&lt;/p&gt;
&lt;p&gt;If you want to keep it really small, you can just grab a cubic ease-in-ease-out function from somewhere and use plain JavaScript’s &lt;code&gt;setInterval&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;You can try it out down here:&lt;/p&gt;
&lt;style&gt;

body {
  display: flex;
  flex-direction: column;
  align-items: center;
  font-size: 24px;
}

#container {
  display: flex;
  flex-direction: column;
  max-width: 20em;
  align-contents: center;
}

.item {
  text-align: center;
  padding: 1em;
}

.button {
  background-color: rgb(234, 106, 68);
  text-align: center;
  padding: 0.5em;
  border-radius: 0.5em;
  box-shadow: hsla(240, 30%, 30%, 0.15) 2px 2px;
  color: #eee;
  margin: 0.2em;
  cursor: pointer;
}

&lt;/style&gt;

&lt;body&gt;


&lt;script src=&quot;http://d3js.org/d3.v3.min.js&quot;&gt;&lt;/script&gt;

&lt;div id=&quot;container&quot;&gt;
  &lt;div id=&quot;top-element&quot; class=&quot;scroll-to-middle button&quot;&gt;Scroll to a middle element&lt;/div&gt;
  &lt;div class=&quot;scroll-to-bottom button&quot;&gt;Scroll to the bottom element&lt;/div&gt;

  &lt;div class=&quot;item&quot;&gt;Hooligan&lt;/div&gt;
  &lt;div class=&quot;item&quot;&gt;Muscleman&lt;/div&gt;
  &lt;div class=&quot;item&quot;&gt;Tough Guy&lt;/div&gt;
  &lt;div class=&quot;item&quot;&gt;Bullyboy&lt;/div&gt;
  &lt;div class=&quot;item&quot;&gt;Tearaway&lt;/div&gt;
  &lt;div class=&quot;item&quot;&gt;Plug-Ugly&lt;/div&gt;
  &lt;div class=&quot;item&quot;&gt;Chav&lt;/div&gt;
  &lt;div class=&quot;item&quot;&gt;Muscle&lt;/div&gt;
  &lt;div class=&quot;item&quot;&gt;Skinhead&lt;/div&gt;
  &lt;div class=&quot;item&quot;&gt;Skinhead (10th level)&lt;/div&gt;
  &lt;div class=&quot;item&quot;&gt;Yob&lt;/div&gt;
  &lt;div class=&quot;item&quot;&gt;Yob of the Body&lt;/div&gt;
  &lt;div class=&quot;item&quot;&gt;Yob of Feelings&lt;/div&gt;
  &lt;div class=&quot;item&quot;&gt;Yob of the Mind&lt;/div&gt;
  &lt;div class=&quot;item&quot;&gt;Yob of the Mind (15th level)&lt;/div&gt;
  &lt;div class=&quot;item&quot;&gt;Yob of the Mind (16th level)&lt;/div&gt;

  &lt;hr&gt;&lt;/hr&gt;

  &lt;div class=&quot;item&quot;&gt;Technologist&lt;/div&gt;
  &lt;div class=&quot;item&quot;&gt;Hacker&lt;/div&gt;
  &lt;div class=&quot;item&quot;&gt;Cyberpunk&lt;/div&gt;
  &lt;div class=&quot;item&quot;&gt;Applied Scientist&lt;/div&gt;
  &lt;div class=&quot;item&quot;&gt;Cyber-Terrorist&lt;/div&gt;
  &lt;div class=&quot;item&quot;&gt;Engineer&lt;/div&gt;
  &lt;div class=&quot;item&quot;&gt;Computer User&lt;/div&gt;

  &lt;div class=&quot;scroll-to-top button&quot;&gt;Scroll to the top element&lt;/div&gt;
  &lt;div class=&quot;item&quot; id=&quot;middle-element&quot;&gt;Middle Element&lt;/div&gt;
  &lt;div class=&quot;scroll-to-bottom button&quot;&gt;Scroll to the bottom element&lt;/div&gt;

  &lt;div class=&quot;item&quot;&gt;Cracker&lt;/div&gt;
  &lt;div class=&quot;item&quot;&gt;Programmer&lt;/div&gt;
  &lt;div class=&quot;item&quot;&gt;Programmer (10th level)&lt;/div&gt;
  &lt;div class=&quot;item&quot;&gt;Chief Programmer&lt;/div&gt;
  &lt;div class=&quot;item&quot;&gt;Master Programmer&lt;/div&gt;
  &lt;div class=&quot;item&quot;&gt;Grandmaster Programmer&lt;/div&gt;
  &lt;div class=&quot;item&quot;&gt;Grandmaster Programmer (14th level)&lt;/div&gt;

  &lt;hr&gt;&lt;/hr&gt;

  &lt;div class=&quot;item&quot;&gt;Bun&lt;/div&gt;
  &lt;div class=&quot;item&quot;&gt;Bunny&lt;/div&gt;
  &lt;div class=&quot;item&quot;&gt;Sciurine&lt;/div&gt;
  &lt;div class=&quot;item&quot;&gt;Con&lt;/div&gt;
  &lt;div class=&quot;item&quot;&gt;Rodent&lt;/div&gt;
  &lt;div class=&quot;item&quot;&gt;Rodent (6th level)&lt;/div&gt;
  &lt;div class=&quot;item&quot;&gt;Rodent (7th level)&lt;/div&gt;
  &lt;div class=&quot;item&quot;&gt;Rodent (8th level)&lt;/div&gt;
  &lt;div class=&quot;item&quot;&gt;Rodent (9th level)&lt;/div&gt;
  &lt;div class=&quot;item&quot;&gt;Squirrel&lt;/div&gt;
  &lt;div class=&quot;item&quot;&gt;Squirrel (11th level)&lt;/div&gt;
  &lt;div class=&quot;item&quot;&gt;Squirrel (12th level)&lt;/div&gt;
  &lt;div class=&quot;item&quot;&gt;Expert Squirrel&lt;/div&gt;
  &lt;div class=&quot;item&quot;&gt;Prime Squirrel&lt;/div&gt;

  &lt;div class=&quot;scroll-to-middle button&quot;&gt;Scroll to a middle element&lt;/div&gt;
  &lt;div id=&quot;bottom-element&quot; class=&quot;scroll-to-top button&quot;&gt;Scroll to the top element&lt;/div&gt;

&lt;p&gt;&lt;/div&gt;&lt;/p&gt;
&lt;script&gt;

var easingFn = d3.ease('cubic');

function scrollTo(toTop, time) {
  var fromTop = document.body.scrollTop;
  var scrollDistance = toTop - fromTop;
  var scrolledTop = 0;

  d3.timer(updateScrollTop);

  function updateScrollTop(elapsed) {
    var portion = easingFn(elapsed * 1.0 /time);
    var scrollChange = scrollDistance * portion;

    document.body.scrollTop = fromTop + scrollChange;

    // Stop the timer by returning true if we've scrolled as far as requested.
    if (scrollDistance &lt; 0 &amp;&amp; document.body.scrollTop &lt;= toTop) {
      return true;
    }
    if (scrollDistance &gt;= 0 &amp;&amp; document.body.scrollTop &gt;= toTop) {
      return true;
    }
    if (elapsed &gt; time) {
      // This is as far as we're going to get.
      return true;
    }
  }
}

function scrollToElement(el, time) {
  scrollTo(el.offsetTop, time);
}

d3.selectAll('.scroll-to-middle').on('click', scrollToMiddle);
d3.selectAll('.scroll-to-top').on('click', scrollToTop);
d3.selectAll('.scroll-to-bottom').on('click', scrollToBottom);

function scrollToMiddle() {
  scrollToElement(d3.select('#middle-element').node(), 1500);
}


function scrollToTop() {
  scrollToElement(d3.select('#top-element').node(), 1500);
}


function scrollToBottom() {
  scrollToElement(d3.select('#bottom-element').node(), 1500);
}

&lt;/script&gt;
</description>
    </item>
    <item>
      <title>2014, Aspect B</title>
      <link>http://jimkang.com/weblog/articles/2014-aspect-b/</link>
      <pubDate>Sat, 03 Jan 2015 19:00:00 -0500</pubDate>
      <guid isPermaLink="true">http://jimkang.com/weblog/articles/2014-aspect-b/</guid>
      <author></author>
      <description>&lt;style&gt;
li p {
  margin-bottom: 0.5em;
}

li {
  line-height: 1.3em;
  padding-left: 0;
}

ul {
  margin-top: 0.5em;
}

ul li ul li {
  font-size: smaller
}

.aside {
  border: 1px gray dotted;
  font-size: smaller;
  padding: 1em;
  color: #777;
}

&lt;/style&gt;

&lt;p&gt;While the year’s activities were &lt;a href=&quot;http://jimkang.com/articles/2014-aspect-a/&quot;&gt;dominated&lt;/a&gt; by Life Events, I did get some projects done. More than I did in 2013, I think. When I was looking at &lt;a href=&quot;https://gist.github.com/dariusk/aa4fc2da6f47eaed63db&quot;&gt;Darius’s list&lt;/a&gt;, I realized I couldn’t remember what I had done beyond the last three months. So, taking stock is a good idea.&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;more&quot;&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Projects that were released in 2014. If a project has subprojects built to support it, they are listed under it.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://soundcloud.com/isilence/recovery&quot;&gt;Recovery&lt;/a&gt;. Writing this brought to my attention that this was the only song I wrote in 2014. I usually do two or three a year, except years in which I do albums. Maybe I’ll go for an album this year?&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/jimkang/probable&quot;&gt;probable&lt;/a&gt;. A &lt;a href=&quot;http://nodejs.org/&quot;&gt;Node&lt;/a&gt; module that provides basic randomization utilities, as well as functions for making D&amp;amp;D-style random tables. I’ve used this in at least four projects.&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://nonstopscrollshop.com/&quot;&gt;Non-Stop Scroll Shop&lt;/a&gt;. It’s your one-stop non-stop scroll shop! Products forever!&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&quot;http://jimkang.com/reactivecell/example/liquid.html&quot;&gt;A browser-based cellular automaton&lt;/a&gt;. I had big, yet vague plans for building off of this, but I just kinda drifted away into Twitter bots. I will come back, though.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/jimkang/reactivecell&quot;&gt;reactivecell&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/jimkang/cellseriesviewer&quot;&gt;cellseriesviewer&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/jimkang/roguemap-parse-stream&quot;&gt;roguemap-parse-stream&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/jimkang/cellgridrenderer&quot;&gt;cellgridrenderer&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/jimkang/cellmap&quot;&gt;cellmap&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;aside&quot;&gt;You may notice that a lot of modules go into most of my projects. This is because I’ve drifted into practicing a &lt;a href=&quot;http://substack.net/how_I_write_modules&quot;&gt;small module philosophy&lt;/a&gt;, and it has worked out really well for my projects. If you have to start and stop projects a lot, as I do, it really helps to be able to build in small, tangible units, rather than huge all-or-nothing colossuses. Also, this is the lowest-friction reusability situation I’ve ever been in.&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&quot;http://jimkang.com/quadtreevis&quot;&gt;An interactive explanation of quadtrees&lt;/a&gt;. When I was building my cellular automaton, I wanted to try storing my cells in quadtrees to save space. It was then that I realized I wasn’t that clear on how quadtrees work, so I built this explanation.&lt;/p&gt;
&lt;p&gt;It was pretty well-received. Non-programmer-, non-mathematics-types understood quadtrees by trying it. The power of moving shapes!&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/jimkang/quadtreevis&quot;&gt;quadtreevis&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/jimkang/quadtreetree&quot;&gt;quadtreetree&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/jimkang/quadtreemap&quot;&gt;quadtreemap&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/jimkang/one-at&quot;&gt;one-at&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&quot;http://smidgeo.com/&quot;&gt;Smidgeo.com&lt;/a&gt;. Finally our cat’s corporation has a base on the web! GET! I still enjoy that CSS animation.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/jimkang/scrollwatcher&quot;&gt;scrollwatcher&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/jimkang/gravitybox&quot;&gt;gravitybox&lt;/a&gt; - This powers the very busy &lt;a href=&quot;http://smidgeo.com/plan/&quot;&gt;Smidgital Digital Plan&lt;/a&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&quot;https://twitter.com/godtributes&quot;&gt;@godtributes&lt;/a&gt;. This is a merciless generalization of the “BLOOD FOR THE BLOOD GOD!” meme. I wasn’t really into it until my friend &lt;a href=&quot;http://nynex.hydrogenproject.com/&quot;&gt;Matt&lt;/a&gt; said “GROWTH FOR THE GROWTH GOD!” in reference to House Republicans. Then, it clicked. In turn, this bot has clicked with far more people than I had expected. I think it might my most popular project.&lt;/p&gt;
&lt;p&gt;Through @godtributes, I learned quite a lot about pluralization inconsistencies in the English language, Twitter REST API rate limits, and just how easy it is for a bot to unintentionally say horrific things.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/jimkang/iscool&quot;&gt;iscool&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/jimkang/canonicalizer&quot;&gt;canonicalizer&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/jimkang/chronicler&quot;&gt;chronicler&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/jimkang/emojisource&quot;&gt;emojisource&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/jimkang/nounfinder&quot;&gt;nounfinder&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/jimkang/wordnok&quot;&gt;wordnok&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Phoneme-based Node modules: &lt;a href=&quot;https://github.com/jimkang/homophonizer&quot;&gt;homophonizer&lt;/a&gt;, &lt;a href=&quot;https://github.com/jimkang/phonemenon&quot;&gt;phonemenon&lt;/a&gt;. Some of my future projects hinge on knowing what sounds like what what. So, I’ve done a lot of playing around with phonemes. Like the cellular automata stuff, I need to harvest the fruits of these projects in 2015.&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Translation bots: &lt;a href=&quot;https://twitter.com/a_chance_bot&quot;&gt;@a_chance_bot&lt;/a&gt;, &lt;a href=&quot;https://twitter.com/translatedbible&quot;&gt;@translatedbible&lt;/a&gt;, and &lt;a href=&quot;https://twitter.com/new_aeneid&quot;&gt;@new_aeneid&lt;/a&gt;. These are bots (working off of the &lt;a href=&quot;https://github.com/jimkang/lossyfortunes&quot;&gt;same app&lt;/a&gt;) that take some source quotation, then translate it to several non-English languages and back to English. The results have been largely disappointing. I am amused by about one post from each of these bots a day.&lt;/p&gt;
&lt;p&gt;I started this project after watching a &lt;a href=&quot;https://www.youtube.com/watch?v=-4Yp3j_jk8Q&quot;&gt;Leslie Lamport video&lt;/a&gt; and then wrote a &lt;a href=&quot;https://github.com/jimkang/lossyfortunes#specification&quot;&gt;rigorous specification&lt;/a&gt;, which I’ve never done before. That took a while. I also scratched bikeshedding itch by making my own &lt;a href=&quot;https://github.com/jimkang/wardboss&quot;&gt;dependency injector&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;In a sense, I made the classic mistake of investing too much engineering effort without first proving that doing so is worthwhile. However, I can also write this off as a chance to scratch some itches. On the whole, I still think I paid too much to do that, though.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/jimkang/conform-async&quot;&gt;conform-async&lt;/a&gt;. There’s not much to this module, but I end up using it a lot to keep peace between async-expecting code and sync code.&lt;/li&gt;
&lt;li&gt;Rap bots: &lt;a href=&quot;https://twitter.com/rapgamemetaphor&quot;&gt;@rapgamemetaphor&lt;/a&gt; and &lt;a href=&quot;https://twitter.com/autocompleterap&quot;&gt;@autocompleterap&lt;/a&gt;. These bots amuse me on the regular. I have some further plans for them.&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/jimkang/autocompl&quot;&gt;autocompl&lt;/a&gt; - A module that gives you Google’s autocomplete suggestions for given strings.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://lonewolfandparenting.tumblr.com/&quot;&gt;Lone Wolf and Parenting&lt;/a&gt;. I’ve been rereading Lone Wolf and Cub, a great but flawed comic from the ‘70s. This time, the parent stuff jumps out at me a little more, and I’ve been highlighting amusing stuff on this Tumblr. It’s nice having a non-technology-driven project.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Projects that didn’t make it:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Massachusetts Childcare Search. While we were searching for daycare, I wanted a site that served the EEC data in a less painful way than the EEC web site. So, I &lt;a href=&quot;http://masschildcaredata.github.io/&quot;&gt;scraped the site for data&lt;/a&gt; and was planning to build an app that would use that data. Never got beyond the scraping.&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/dariusk/NaNoGenMo-2014&quot;&gt;NaNoGenMo&lt;/a&gt;. I &lt;a href=&quot;https://github.com/jimkang/novelrrbot&quot;&gt;started building an engine&lt;/a&gt; for generating a novel, but I got stuck on trying define what an “event” in a novel is and how it could be represented simply. Might keep at this one.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;I feel good about 2014 (the personal stuff, not the world events). As I do every year, in 2015, I want to be more careful about what I start and clearer on what I expect to get out of each project. And I want to do more with music and visualization again. And maybe write a game, too?&lt;/p&gt;
&lt;p&gt;There’s some utility apps I want to write, but that’s at odds with the fact that generative projects are always far more satisfying than ones that just do what you tell them to do. So, yeah, I got stuff to work out for 2015.&lt;/p&gt;
</description>
    </item>
    <item>
      <title>2014, Aspect A</title>
      <link>http://jimkang.com/weblog/articles/2014-aspect-a/</link>
      <pubDate>Thu, 01 Jan 2015 19:00:00 -0500</pubDate>
      <guid isPermaLink="true">http://jimkang.com/weblog/articles/2014-aspect-a/</guid>
      <author></author>
      <description>&lt;style&gt;
li p {
  margin-bottom: 0.5em;
}

li {
  line-height: 1.3em;
  padding-left: 0;
}

ul {
  margin-top: 0.5em;
}
&lt;/style&gt;


&lt;p&gt;This was very much a Life Year, one packed with Life Events. There was one root Life Event that triggered a million Life Subevents.&lt;/p&gt;
&lt;p&gt;Katt and I had this guy:
&lt;br /&gt;&lt;br /&gt;&lt;/p&gt;
&lt;section class=&quot;center-img-zone&quot;&gt;

&lt;a class=&quot;img-container&quot; href=&quot;https://www.flickr.com/gp/ignignokt/Cvdies&quot;&gt;&lt;img src=&quot;https://farm8.staticflickr.com/7524/16083616772_db60f440aa_z.jpg&quot; width=&quot;480&quot; height=&quot;640&quot; alt=&quot;Anderson!&quot;&gt;&lt;/a&gt;
&lt;/section&gt;

&lt;p&gt;&lt;br /&gt;&lt;/p&gt;
&lt;p&gt;His name is Anderson. He’s a great guy. On his behalf, we:
&lt;span class=&quot;more&quot;&gt;&lt;/span&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Found a deleaded apartment.&lt;/li&gt;
&lt;li&gt;Moved.&lt;/li&gt;
&lt;li&gt;Called and visited a ton of daycares.&lt;/li&gt;
&lt;li&gt;Went to child birth classes.&lt;/li&gt;
&lt;li&gt;Gave birth/supported birth-giving. (I did the support part, BTW.)&lt;/li&gt;
&lt;li&gt;Went to the doctor a jillion times.&lt;/li&gt;
&lt;li&gt;Got over baby bodily fluid revulsion.&lt;/li&gt;
&lt;li&gt;Gave up sleeping in favor getting blasted by night screaming.&lt;/li&gt;
&lt;li&gt;Fought bizarre and intense paranoia when leaving him at daycare.&lt;/li&gt;
&lt;li&gt;Googled a lot of infant maladies.&lt;/li&gt;
&lt;li&gt;Read a lot of &lt;a href=&quot;http://smile.amazon.com/Fuzzy-Bee-Friends-Cloth-Books/dp/0312491506/ref=sr_1_1?ie=UTF8&amp;qid=1420248331&amp;sr=8-1&amp;keywords=fuzzy+bee+and+friends&quot;&gt;Fuzzy Bee and Friends&lt;/a&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Partially on his behalf, we:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Established (relative) peace between our cats.&lt;/li&gt;
&lt;li&gt;I changed jobs.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;We are on an ongoing journey to keep him alive (don’t worry, he’s not especially sick, other than an ear infection) and to develop his skills and power.&lt;/p&gt;
&lt;p&gt;This endeavor has become rewarding far earlier than expected.&lt;/p&gt;
&lt;p&gt;One, I’m simply amazed that he exists. I have never seen someone go from not existing to existing. When he was born, he crossed the line from theoretical to real as hell.&lt;/p&gt;
&lt;p&gt;Two, he’s often happy, and when he is, it is far happier than any adult is even capable of being. You’d think that it’d be sad to be reminded of one’s emotional limitations, but nah, it’s more like witnessing a guy playing amazing guitar solos that you never could.&lt;/p&gt;
&lt;p&gt;Well, that was meant to be a preface for a post where I talked about the projects I did this year. Bumping that to a future post.&lt;/p&gt;
</description>
    </item>
    <item>
      <title>Walking with Anderson</title>
      <link>http://jimkang.com/weblog/articles/walking-with-anderson/</link>
      <pubDate>Sun, 07 Sep 2014 20:00:00 -0400</pubDate>
      <guid isPermaLink="true">http://jimkang.com/weblog/articles/walking-with-anderson/</guid>
      <author></author>
      <description>&lt;p&gt;&lt;section class=&quot;center-img-zone&quot;&gt;
On the way home, I saw a good sunset starting.
&lt;br /&gt;&lt;br /&gt;&lt;/p&gt;
&lt;p&gt;&lt;a class=&quot;img-container&quot; href=&quot;/articles/walking-with-anderson/&quot; title=&quot;Untitled by Jim, on Flickr&quot;&gt;&lt;img src=&quot;https://farm4.staticflickr.com/3871/15184185345_cbdd84c636_h.jpg&quot; width=&quot;800&quot; height=&quot;597&quot; alt=&quot;Untitled&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;/section&gt;
&lt;span class=&quot;more&quot;&gt;&lt;/span&gt;
So, we risked some major screaming and took Anderson out for a walk. He was very content with walking, as it happened.&lt;/p&gt;
&lt;section class=&quot;center-img-zone&quot;&gt;

&lt;p&gt;&lt;a class=&quot;img-container&quot; href=&quot;https://www.flickr.com/photos/ignignokt/14998449668&quot; title=&quot;Untitled by Jim, on Flickr&quot;&gt;&lt;img src=&quot;https://farm4.staticflickr.com/3855/14998449668_07df3d2612_h.jpg&quot; width=&quot;800&quot; height=&quot;600&quot; alt=&quot;Untitled&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a class=&quot;img-container&quot; href=&quot;https://www.flickr.com/photos/ignignokt/14998448048&quot; title=&quot;Untitled by Jim, on Flickr&quot;&gt;&lt;img src=&quot;https://farm4.staticflickr.com/3870/14998448048_7344c5037c_h.jpg&quot; width=&quot;800&quot; height=&quot;598&quot; alt=&quot;Untitled&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a class=&quot;img-container&quot; href=&quot;https://www.flickr.com/photos/ignignokt/15161995606&quot; title=&quot;Untitled by Jim, on Flickr&quot;&gt;&lt;img src=&quot;https://farm4.staticflickr.com/3898/15161995606_7618a29b90_h.jpg&quot; width=&quot;800&quot; height=&quot;600&quot; alt=&quot;Untitled&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a class=&quot;img-container&quot; href=&quot;https://www.flickr.com/photos/ignignokt/14997591047&quot; title=&quot;Untitled by Jim, on Flickr&quot;&gt;&lt;img src=&quot;https://farm4.staticflickr.com/3899/14997591047_f95b24d473_h.jpg&quot; width=&quot;800&quot; height=&quot;600&quot; alt=&quot;Untitled&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a class=&quot;img-container&quot; href=&quot;https://www.flickr.com/photos/ignignokt/14997499220&quot; title=&quot;Untitled by Jim, on Flickr&quot;&gt;&lt;img src=&quot;https://farm4.staticflickr.com/3894/14997499220_79f443f130_h.jpg&quot; width=&quot;800&quot; height=&quot;600&quot; alt=&quot;Untitled&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a class=&quot;img-container&quot; href=&quot;https://www.flickr.com/photos/ignignokt/14998346170&quot; title=&quot;Untitled by Jim, on Flickr&quot;&gt;&lt;img src=&quot;https://farm4.staticflickr.com/3905/14998346170_fa2c434b23_h.jpg&quot; width=&quot;800&quot; height=&quot;600&quot; alt=&quot;Untitled&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a class=&quot;img-container&quot; href=&quot;https://www.flickr.com/photos/ignignokt/14998239819&quot; title=&quot;Untitled by Jim, on Flickr&quot;&gt;&lt;img src=&quot;https://farm4.staticflickr.com/3899/14998239819_7457c971b3_h.jpg&quot; width=&quot;800&quot; height=&quot;600&quot; alt=&quot;Untitled&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a class=&quot;img-container&quot; href=&quot;https://www.flickr.com/photos/ignignokt/15184168005&quot; title=&quot;Untitled by Jim, on Flickr&quot;&gt;&lt;img src=&quot;https://farm6.staticflickr.com/5581/15184168005_2f1c9f971a_h.jpg&quot; width=&quot;800&quot; height=&quot;601&quot; alt=&quot;Untitled&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a class=&quot;img-container&quot; href=&quot;https://www.flickr.com/photos/ignignokt/14998441878&quot; title=&quot;Untitled by Jim, on Flickr&quot;&gt;&lt;img src=&quot;https://farm4.staticflickr.com/3923/14998441878_957cae1c15_h.jpg&quot; width=&quot;800&quot; height=&quot;600&quot; alt=&quot;Untitled&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a class=&quot;img-container&quot; href=&quot;https://www.flickr.com/photos/ignignokt/15161129646&quot; title=&quot;Untitled by Jim, on Flickr&quot;&gt;&lt;img src=&quot;https://farm4.staticflickr.com/3886/15161129646_ed625a39f4_h.jpg&quot; width=&quot;800&quot; height=&quot;594&quot; alt=&quot;Untitled&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Aaaand we’re back.&lt;/p&gt;
&lt;p&gt;&lt;a class=&quot;img-container&quot; href=&quot;https://www.flickr.com/photos/ignignokt/14998451787&quot; title=&quot;Untitled by Jim, on Flickr&quot;&gt;&lt;img src=&quot;https://farm6.staticflickr.com/5577/14998451787_df96ddd3f9_h.jpg&quot; width=&quot;800&quot; height=&quot;600&quot; alt=&quot;Untitled&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;[Scream-packed bath time happened here, not pictured.]&lt;/p&gt;
&lt;p&gt;&lt;a class=&quot;img-container&quot; href=&quot;https://www.flickr.com/photos/ignignokt/15184830072&quot; title=&quot;Untitled by Jim, on Flickr&quot;&gt;&lt;img src=&quot;https://farm6.staticflickr.com/5585/15184830072_fe79ff3362_h.jpg&quot; width=&quot;800&quot; height=&quot;600&quot; alt=&quot;Untitled&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;/section&gt;
&amp;nbsp;&lt;/p&gt;
</description>
    </item>
    <item>
      <title>Awaiting the Final Moment</title>
      <link>http://jimkang.com/weblog/articles/awaiting-the-final-moment/</link>
      <pubDate>Sun, 10  Aug 2014 20:00:00 -0400</pubDate>
      <guid isPermaLink="true">http://jimkang.com/weblog/articles/awaiting-the-final-moment/</guid>
      <author></author>
      <description>&lt;section class=&quot;center-img-zone&quot;&gt;

&lt;p&gt;&lt;a class=&quot;img-container&quot; href=&quot;/articles/awaiting-the-final-moment/&quot;&gt;&lt;img src=&quot;https://farm6.staticflickr.com/5574/14882569462_8ee010f9c5_h.jpg&quot; width=&quot;800&quot; height=&quot;598&quot; alt=&quot;Untitled&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;This was our final weekend as non-parents. We mostly conducted ourselves as normal, except that we went to a restaurant that was fairly schmance, just because we might not be able to do that again for a while, even though we’re not normal consumers of schmance.&lt;/p&gt;
&lt;p&gt;&lt;/section&gt;
&lt;span class=&quot;more&quot;&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;section class=&quot;center-img-zone&quot;&gt;
I felt the urge to code a lot because I have heard much of the interruptive power of babies, but A) I should be engaging with my pregnant wife and also life B) furious, desperate coding rarely amounts to much. So, instead we went outside a lot, and one of those times, we went out to Menotomy Rocks.&lt;/p&gt;
&lt;p&gt;&lt;a class=&quot;img-container&quot; href=&quot;https://www.flickr.com/photos/ignignokt/14696330848&quot; title=&quot;Untitled by Jim, on Flickr&quot;&gt;&lt;img src=&quot;https://farm6.staticflickr.com/5572/14696330848_3cd4930d6b_h.jpg&quot; width=&quot;800&quot; height=&quot;155&quot; alt=&quot;Untitled&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Here is one of the rocks. I guess it’s of the Menotomy sort. It was large, and I was impressed.&lt;/p&gt;
&lt;p&gt;&lt;a class=&quot;img-container&quot; href=&quot;https://www.flickr.com/photos/ignignokt/14879865931&quot; title=&quot;Untitled by Jim, on Flickr&quot;&gt;&lt;img src=&quot;https://farm6.staticflickr.com/5577/14879865931_a8b8d1c2b2_h.jpg&quot; width=&quot;800&quot; height=&quot;599&quot; alt=&quot;Untitled&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Oh, nature. Much articulation/reticulation wow&lt;/p&gt;
&lt;p&gt;&lt;a class=&quot;img-container&quot; href=&quot;https://www.flickr.com/photos/ignignokt/14879869981&quot; title=&quot;Untitled by Jim, on Flickr&quot;&gt;&lt;img src=&quot;https://farm6.staticflickr.com/5563/14879869981_39612dfb1d_h.jpg&quot; width=&quot;800&quot; height=&quot;600&quot; alt=&quot;Untitled&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;The Menotomy Rocks park is not that big, and a lot of people live right next to it. I just thought it must be fairly ballin’ perk to live near an urban center, yet have a forest as your backyard.&lt;/p&gt;
&lt;p&gt;&lt;a class=&quot;img-container&quot; href=&quot;https://www.flickr.com/photos/ignignokt/14902789113&quot; title=&quot;Untitled by Jim, on Flickr&quot;&gt;&lt;img src=&quot;https://farm6.staticflickr.com/5559/14902789113_28b9dac223_h.jpg&quot; width=&quot;800&quot; height=&quot;600&quot; alt=&quot;Untitled&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Another rock, this one mossier. It reminded me of the Hulk.&lt;/p&gt;
&lt;p&gt;&lt;a class=&quot;img-container&quot; href=&quot;https://www.flickr.com/photos/ignignokt/14859956866&quot; title=&quot;Untitled by Jim, on Flickr&quot;&gt;&lt;img src=&quot;https://farm6.staticflickr.com/5569/14859956866_2c447d5902_h.jpg&quot; width=&quot;800&quot; height=&quot;600&quot; alt=&quot;Untitled&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;It’s probably the very non-woodsy nature of my upbringing, but scenes like this remind me of &lt;a href=&quot;http://www.agamesroom.com/library/images/screenshots/qfg1/qfg1ss4.gif&quot;&gt;Hero’s&lt;/a&gt; &lt;a href=&quot;http://www.mobygames.com/game/dos/heros-quest-so-you-want-to-be-a-hero/screenshots&quot;&gt;Quest&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;&lt;a class=&quot;img-container&quot; href=&quot;https://www.flickr.com/photos/ignignokt/14696297738&quot; title=&quot;Untitled by Jim, on Flickr&quot;&gt;&lt;img src=&quot;https://farm4.staticflickr.com/3912/14696297738_a04255c858_h.jpg&quot; width=&quot;800&quot; height=&quot;312&quot; alt=&quot;Untitled&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;I thought this pond did some real good work with reflecting.&lt;/p&gt;
&lt;p&gt;Speaking of which, it feels like we’re about to move to another home or something.&lt;/p&gt;
&lt;p&gt;Also, despite:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Taking childbirth classes&lt;/li&gt;
&lt;li&gt;Assembling a crib and making space&lt;/li&gt;
&lt;li&gt;Reading up on safe living conditions for children and wrangling for them&lt;/li&gt;
&lt;li&gt;Searching for childcare&lt;/li&gt;
&lt;li&gt;Pretty much centering the last nine months on the arrival of our son&lt;/li&gt;
&lt;li&gt;Hearing about how hard the sacrifices are&lt;/li&gt;
&lt;li&gt;It being morning of the day of labor induction&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;I don’t really comprehend what it’s going to be like. I want to see this guy and help him develop, but I don’t really feel the fear I should be. Fortunately, this frog-before-the-boiling attitude toward big events keeps me from useless worry, so, eh.&lt;/p&gt;
&lt;p&gt;Well, it’s been good being a non-child-having guy, but now I will see how it is being a child-having guy!
&lt;/section&gt;
&amp;nbsp;&lt;/p&gt;
</description>
    </item>
    <item>
      <title>The mysteries of north North Cambridge</title>
      <link>http://jimkang.com/weblog/articles/north-north-cambridge/</link>
      <pubDate>Fri, 08  Aug 2014 20:00:00 -0400</pubDate>
      <guid isPermaLink="true">http://jimkang.com/weblog/articles/north-north-cambridge/</guid>
      <author></author>
      <description>&lt;section class=&quot;center-img-zone&quot;&gt;

&lt;p&gt;&lt;a class=&quot;img-container&quot; class=&quot;img-container&quot; href=&quot;/articles/north-north-cambridge/&quot;&gt;&lt;img src=&quot;https://farm4.staticflickr.com/3884/14869644464_dadf66129e_h.jpg&quot; width=&quot;800&quot; height=&quot;598&quot; alt=&quot;Untitled&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;more&quot;&gt;&lt;/span&gt;&lt;/p&gt;
&lt;style&gt;
body {
  background-color: #1d1a14;
}

body, a, a:visited {
  color: #807A69;
}
&lt;/style&gt;

&lt;section class=&quot;center-img-zone&quot;&gt;

&lt;p&gt;This is the moon, not the sun.&lt;/p&gt;
&lt;p&gt;&lt;a class=&quot;img-container&quot; href=&quot;https://www.flickr.com/photos/ignignokt/14849125206&quot; title=&quot;Untitled by Jim, on Flickr&quot;&gt;&lt;img src=&quot;https://farm4.staticflickr.com/3922/14849125206_ce1b602bbe_h.jpg&quot; width=&quot;800&quot; height=&quot;600&quot; alt=&quot;Untitled&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Magic plant, possibly evil.&lt;/p&gt;
&lt;p&gt;&lt;a class=&quot;img-container&quot; href=&quot;https://www.flickr.com/photos/ignignokt/14849126956&quot; title=&quot;Untitled by Jim, on Flickr&quot;&gt;&lt;img src=&quot;https://farm4.staticflickr.com/3922/14849126956_4eb2904fc4_h.jpg&quot; width=&quot;800&quot; height=&quot;600&quot; alt=&quot;Untitled&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Moon vortex!&lt;/p&gt;
&lt;p&gt;&lt;a class=&quot;img-container&quot; href=&quot;https://www.flickr.com/photos/ignignokt/14685575497&quot; title=&quot;Untitled by Jim, on Flickr&quot;&gt;&lt;img src=&quot;https://farm4.staticflickr.com/3863/14685575497_29fda125ef_h.jpg&quot; width=&quot;800&quot; height=&quot;602&quot; alt=&quot;Untitled&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Some sort of animal committee or congress.&lt;/p&gt;
&lt;p&gt;&lt;a class=&quot;img-container&quot; href=&quot;https://www.flickr.com/photos/ignignokt/14871774372&quot; title=&quot;Untitled by Jim, on Flickr&quot;&gt;&lt;img src=&quot;https://farm4.staticflickr.com/3912/14871774372_b40b8206da_h.jpg&quot; width=&quot;800&quot; height=&quot;599&quot; alt=&quot;Untitled&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;We also found empty lots, weird houses, a talkative guide, a &lt;a href=&quot;https://grace.com/en-us&quot;&gt;massive corporation&lt;/a&gt;, and a cat.&lt;/p&gt;
&lt;p&gt;&lt;/section&gt;
&amp;nbsp;&lt;/p&gt;
</description>
    </item>
    <item>
      <title>Much Blue</title>
      <link>http://jimkang.com/weblog/articles/much-blue/</link>
      <pubDate>Sun, 06 Jul 2014 20:00:00 -0400</pubDate>
      <guid isPermaLink="true">http://jimkang.com/weblog/articles/much-blue/</guid>
      <author></author>
      <description>&lt;section class=&quot;center-img-zone&quot;&gt;

&lt;p&gt;We went on a walk a bit after sunset this Sunday. A down-but-not-out sun can create an intensely saturated dark blue in the sky. We were awed. The phone didn’t capture that exact blue, but it did get some good ones.&lt;/p&gt;
&lt;p&gt;&lt;a class=&quot;img-container&quot; href=&quot;/articles/much-blue/&quot;&gt;&lt;img src=&quot;https://farm6.staticflickr.com/5510/14590397224_09e0cc4616_h.jpg&quot; width=&quot;800&quot; height=&quot;600&quot; alt=&quot;Untitled&quot;&gt;&lt;/a&gt;
&lt;/section&gt;
&lt;span class=&quot;more&quot;&gt;&lt;/span&gt;&lt;/p&gt;
&lt;style&gt;
body {
  background-color: #001018;  
}

body, a, a:visited {
  color: #667;
}
&lt;/style&gt;

&lt;section class=&quot;center-img-zone&quot;&gt;

&lt;p&gt;&lt;a class=&quot;img-container&quot; href=&quot;https://www.flickr.com/photos/ignignokt/14617464233&quot; title=&quot;Untitled by Jim, on Flickr&quot;&gt;&lt;img src=&quot;https://farm4.staticflickr.com/3924/14617464233_f4bfa77f81_h.jpg&quot; width=&quot;800&quot; height=&quot;600&quot; alt=&quot;Untitled&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a class=&quot;img-container&quot; href=&quot;https://www.flickr.com/photos/ignignokt/14405696699&quot; title=&quot;Untitled by Jim, on Flickr&quot;&gt;&lt;img src=&quot;https://farm4.staticflickr.com/3879/14405696699_e8d2b195bf_h.jpg&quot; width=&quot;800&quot; height=&quot;600&quot; alt=&quot;Untitled&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a class=&quot;img-container&quot; href=&quot;https://www.flickr.com/photos/ignignokt/14405861777&quot; title=&quot;Untitled by Jim, on Flickr&quot;&gt;&lt;img src=&quot;https://farm3.staticflickr.com/2927/14405861777_dd62c4a766_h.jpg&quot; width=&quot;800&quot; height=&quot;600&quot; alt=&quot;Untitled&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a class=&quot;img-container&quot; href=&quot;https://www.flickr.com/photos/ignignokt/14410804819&quot; title=&quot;Untitled by Jim, on Flickr&quot;&gt;&lt;img src=&quot;https://farm4.staticflickr.com/3839/14410804819_02847e1374_h.jpg&quot; width=&quot;800&quot; height=&quot;600&quot; alt=&quot;Untitled&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a class=&quot;img-container&quot; href=&quot;https://www.flickr.com/photos/ignignokt/14588995321&quot; title=&quot;Untitled by Jim, on Flickr&quot;&gt;&lt;img src=&quot;https://farm4.staticflickr.com/3853/14588995321_ed52789adc_h.jpg&quot; width=&quot;800&quot; height=&quot;600&quot; alt=&quot;Untitled&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a class=&quot;img-container&quot; href=&quot;https://www.flickr.com/photos/ignignokt/14612367263&quot; title=&quot;Untitled by Jim, on Flickr&quot;&gt;&lt;img src=&quot;https://farm4.staticflickr.com/3856/14612367263_046c188d78_h.jpg&quot; width=&quot;800&quot; height=&quot;600&quot; alt=&quot;Untitled&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a class=&quot;img-container&quot; href=&quot;https://www.flickr.com/photos/ignignokt/14405690509&quot; title=&quot;Untitled by Jim, on Flickr&quot;&gt;&lt;img src=&quot;https://farm3.staticflickr.com/2935/14405690509_79e5d01174_h.jpg&quot; width=&quot;800&quot; height=&quot;600&quot; alt=&quot;Untitled&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a class=&quot;img-container&quot; href=&quot;https://www.flickr.com/photos/ignignokt/14569234496&quot; title=&quot;Untitled by Jim, on Flickr&quot;&gt;&lt;img src=&quot;https://farm4.staticflickr.com/3895/14569234496_cafa096100_h.jpg&quot; width=&quot;800&quot; height=&quot;600&quot; alt=&quot;Untitled&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a class=&quot;img-container&quot; href=&quot;https://www.flickr.com/photos/ignignokt/14410960657&quot; title=&quot;Untitled by Jim, on Flickr&quot;&gt;&lt;img src=&quot;https://farm4.staticflickr.com/3908/14410960657_e3812d87b1_h.jpg&quot; width=&quot;800&quot; height=&quot;600&quot; alt=&quot;Untitled&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a class=&quot;img-container&quot; href=&quot;https://www.flickr.com/photos/ignignokt/14592284295&quot; title=&quot;Untitled by Jim, on Flickr&quot;&gt;&lt;img src=&quot;https://farm6.staticflickr.com/5596/14592284295_2f5e0e022f_h.jpg&quot; width=&quot;800&quot; height=&quot;600&quot; alt=&quot;Untitled&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a class=&quot;img-container&quot; href=&quot;https://www.flickr.com/photos/ignignokt/14574350356&quot; title=&quot;Untitled by Jim, on Flickr&quot;&gt;&lt;img src=&quot;https://farm6.staticflickr.com/5485/14574350356_e7e2e282f7_h.jpg&quot; width=&quot;800&quot; height=&quot;600&quot; alt=&quot;Untitled&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;/section&gt;
&amp;nbsp;&lt;/p&gt;
</description>
    </item>
    <item>
      <title>Pink Overlord</title>
      <link>http://jimkang.com/weblog/articles/pink-overlord/</link>
      <pubDate>Sat, 28 Jun 2014 20:00:00 -0400</pubDate>
      <guid isPermaLink="true">http://jimkang.com/weblog/articles/pink-overlord/</guid>
      <author></author>
      <description>&lt;section class=&quot;center-img-zone&quot;&gt;

&lt;p&gt;&lt;a class=&quot;img-container&quot; href=&quot;/articles/pink-overlord/&quot;&gt;&lt;img src=&quot;https://farm4.staticflickr.com/3849/14347670628_6a72091546_h.jpg&quot; width=&quot;800&quot; height=&quot;345&quot; alt=&quot;Trunk full of junk&quot;&gt;&lt;/a&gt;
&lt;/section&gt;
&lt;span class=&quot;more&quot;&gt;&lt;/span&gt;&lt;/p&gt;
&lt;section class=&quot;center-img-zone&quot;&gt;

&lt;p&gt;&lt;a class=&quot;img-container&quot; href=&quot;https://www.flickr.com/photos/ignignokt/14347641729&quot; title=&quot;Untitled by Jim, on Flickr&quot;&gt;&lt;img src=&quot;https://farm4.staticflickr.com/3856/14347641729_6a14dd778f_h.jpg&quot; width=&quot;800&quot; height=&quot;600&quot; alt=&quot;Little Free Library&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a class=&quot;img-container&quot; href=&quot;https://www.flickr.com/photos/ignignokt/14347795017&quot; title=&quot;Untitled by Jim, on Flickr&quot;&gt;&lt;img src=&quot;https://farm4.staticflickr.com/3842/14347795017_d967ad22af_h.jpg&quot; width=&quot;800&quot; height=&quot;600&quot; alt=&quot;Untitled&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a class=&quot;img-container&quot; href=&quot;https://www.flickr.com/photos/ignignokt/14511123816&quot; title=&quot;Untitled by Jim, on Flickr&quot;&gt;&lt;img src=&quot;https://farm6.staticflickr.com/5492/14511123816_4075d62b68_h.jpg&quot; width=&quot;800&quot; height=&quot;600&quot; alt=&quot;Untitled&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a class=&quot;img-container&quot; href=&quot;https://www.flickr.com/photos/ignignokt/14533267442&quot; title=&quot;Untitled by Jim, on Flickr&quot;&gt;&lt;img src=&quot;https://farm3.staticflickr.com/2915/14533267442_97acbe1949_h.jpg&quot; width=&quot;800&quot; height=&quot;450&quot; alt=&quot;Untitled&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a class=&quot;img-container&quot; href=&quot;https://www.flickr.com/photos/ignignokt/14349198430&quot; title=&quot;Untitled by Jim, on Flickr&quot;&gt;&lt;img src=&quot;https://farm3.staticflickr.com/2916/14349198430_36f7ebe32c_h.jpg&quot; width=&quot;800&quot; height=&quot;600&quot; alt=&quot;Untitled&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a class=&quot;img-container&quot; href=&quot;https://www.flickr.com/photos/ignignokt/14555963353&quot; title=&quot;Untitled by Jim, on Flickr&quot;&gt;&lt;img src=&quot;https://farm6.staticflickr.com/5595/14555963353_5897f4658c_h.jpg&quot; width=&quot;800&quot; height=&quot;600&quot; alt=&quot;Untitled&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;/section&gt;
&amp;nbsp;&lt;/p&gt;
</description>
    </item>
    <item>
      <title>Rendering faster by hiding DOM elements instead of removing them</title>
      <link>http://jimkang.com/weblog/articles/browser-disapproval-of-frequent-dom-removal/</link>
      <pubDate>Tue, 24 Jun 2014 20:00:00 -0400</pubDate>
      <guid isPermaLink="true">http://jimkang.com/weblog/articles/browser-disapproval-of-frequent-dom-removal/</guid>
      <author></author>
      <description>&lt;p&gt;I know that DOM manipulation is expensive, but I’ve found it just doesn’t make a difference in a typical web app. (And of course, DOM manipulation can rarely be avoided entirely in graphically-oriented apps; it’s a matter of reducing the amount of DOM-touching that happens in those cases.) Recently, I ran into a case in which it &lt;em&gt;did&lt;/em&gt; matter, &lt;code&gt;removeChild&lt;/code&gt; in particular.&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;more&quot;&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;I have been working on a &lt;a href=&quot;https://github.com/jimkang/reactivecell&quot;&gt;cellular automaton&lt;/a&gt;. The latest thing I did with it was to make it run in the browser. (Before I was running it with Node.) That part was smooth, but when I hooked it up to some &lt;a href=&quot;https://github.com/jimkang/cellgridrenderer&quot;&gt;straightforward D3 rendering code&lt;/a&gt; to render each cell at each iteration, I ran into some trouble. It was sluggish once there were about 6000 cells out.&lt;/p&gt;
&lt;p&gt;D3 apps usually work around an &lt;a href=&quot;http://bost.ocks.org/mike/join/&quot;&gt;enter/update/exit&lt;/a&gt; loop. Each iteration, you tell D3 to “join” the data (an array of some sort) with the DOM (usually SVG) elements that represent them. D3 figures out:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Which data elements are not currently represented in the DOM&lt;/li&gt;
&lt;li&gt;Which data elements are represented (but may need updating)&lt;/li&gt;
&lt;li&gt;Which DOM elements represent data elements that no longer exist&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;It gives you the first and the last set as via &lt;code&gt;enter()&lt;/code&gt; and &lt;code&gt;exit()&lt;/code&gt;. Usually, you use the selection returned by &lt;code&gt;enter()&lt;/code&gt; to create new DOM elements to represent the new data, and you use &lt;code&gt;exit()&lt;/code&gt;‘s selection to remove DOM elements. That’s what I was doing.&lt;/p&gt;
&lt;pre&gt;&lt;code&gt; function renderCells(cells) {
    var cellRenditions = tileRoot.selectAll(&amp;#39;.&amp;#39; + opts.cellClass)
      .data(cells, a.id);

    var newCellRenditions = cellRenditions.enter()
      .append(&amp;#39;g&amp;#39;).classed(opts.cellClass, true);

    newCellRenditions.append(&amp;#39;rect&amp;#39;).attr({
      x: 0,
      y: 0,
      width: 1,
      height: 1
    });

    if (opts.customizeCellRendition) {
      cellRenditions.each(opts.customizeCellRendition);
    }

    cellRenditions.attr(&amp;#39;transform&amp;#39;, a.transform);

    cellRenditions.exit().remove();
  }
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;I profiled some late iterations in Chrome DevTools to check out see where time was being spent in the code. Here’s what the flame graph for a single iteration’s rendering looked like:&lt;/p&gt;
&lt;p&gt;&lt;img class=&quot;fit-to-width&quot; src=&quot;renderCells-profile-with-remove.png&quot; alt=&quot;Flame graph screenshot&quot; /&gt;&lt;/p&gt;
&lt;p&gt;Rougly 80 ms was spent in &lt;code&gt;removeChild&lt;/code&gt;. The entire &lt;code&gt;renderCells&lt;/code&gt; call took 137 ms. So I thought, are &lt;code&gt;removeChild&lt;/code&gt; calls something I eliminate?&lt;/p&gt;
&lt;p&gt;Removing DOM elements makes sense for a lot of visualizations. A datum could disappear after an interation and never appear again.&lt;/p&gt;
&lt;p&gt;In a cellular automaton, all of the cells are in fixed positions. In my cellular automaton, only cells that do not match the profile of a “default cell” are tracked and rendered. Thus, a cell can “disappear” (become a default cell) in one iteration, and then “reappear” (become a cell that deviates from the default). So, I tried out &lt;a href=&quot;https://github.com/jimkang/cellgridrenderer/blob/master/fixedcellgridrenderer.js&quot;&gt;hiding exiting cells instead of removing them&lt;/a&gt;:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;function renderCells(cells) {
  var cellRenditions = tileRoot.selectAll(&amp;#39;.&amp;#39; + opts.cellClass)
    .data(cells, opts.idFunction);

  var newCellRenditions = cellRenditions.enter()
    .append(&amp;#39;g&amp;#39;).classed(opts.cellClass, true);

  newCellRenditions
    .append(&amp;#39;rect&amp;#39;).attr({
      x: 0,
      y: 0,
      width: 1,
      height: 1
    })
    .attr(&amp;#39;transform&amp;#39;, a.transform);

  cellRenditions.attr(&amp;#39;opacity&amp;#39;, 1.0);

  if (opts.customUpdate) {
    opts.customUpdate(cellRenditions);
  }

  // Hide exited cells instead of removing.
  cellRenditions.exit()
    .attr(&amp;#39;opacity&amp;#39;, 0);
}
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;Here is the flame graph looked like after that change:&lt;/p&gt;
&lt;p&gt;&lt;img class=&quot;fit-to-width&quot; src=&quot;renderCells-profile-without-remove.png&quot; alt=&quot;Flame graph screenshot&quot; /&gt;&lt;/p&gt;
&lt;p&gt;Now &lt;code&gt;renderCells&lt;/code&gt; takes about 30 ms. Most of that time is now spent in the data join. &lt;a href=&quot;http://jimkang.com/reactivecell/example/&quot;&gt;Give it a try!&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Ask your doctor if hiding instead of removing DOM elements in your app is right for you.&lt;/p&gt;
</description>
    </item>
    <item>
      <title>Sunday Moseying</title>
      <link>http://jimkang.com/weblog/articles/sunday-moseying/</link>
      <pubDate>Sat, 31 May 2014 20:00:00 -0400</pubDate>
      <guid isPermaLink="true">http://jimkang.com/weblog/articles/sunday-moseying/</guid>
      <author></author>
      <description>&lt;p&gt;&lt;section class=&quot;center-img-zone&quot;&gt;
  Here’s some stuff we saw while walking around North Cambridge and thereabouts Sunday morning.&lt;/p&gt;
&lt;p&gt;  &lt;a class=&quot;img-container&quot; href=&quot;/articles/sunday-moseying/&quot;&gt;&lt;img src=&quot;https://farm3.staticflickr.com/2903/14341308253_c75873731c_c.jpg&quot; alt=&quot;Sunday moseying&quot; /&gt;&lt;/a&gt;
&lt;/section&gt;
&lt;span class=&quot;more&quot;&gt;&lt;/span&gt;&lt;/p&gt;
&lt;section class=&quot;center-img-zone&quot;&gt;

&lt;p&gt;  Something I really like about this neighborhood is that seems to have no one telling you your house has to be beige or whatever. You can paint your house however you like. It seems unlikely we’ll be able to afford to own in this area, but if we do, I want the house to be nice and saturated like this powerful yellow one.&lt;/p&gt;
&lt;p&gt;  &lt;a class=&quot;img-container&quot; href=&quot;https://www.flickr.com/photos/ignignokt/14321073655/in/set-72157644546343690&quot;&gt;&lt;img src=&quot;https://farm6.staticflickr.com/5547/14321073655_992f05a8e0_c.jpg&quot; alt=&quot;Sunday moseying&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;  In a similar vein, I like that you can basically have a meadow by your house (presumably) without complaints about dandelions.&lt;/p&gt;
&lt;p&gt;  &lt;a class=&quot;img-container&quot; href=&quot;https://www.flickr.com/photos/ignignokt/14321110075/in/set-72157644546343690&quot;&gt;&lt;img src=&quot;https://farm6.staticflickr.com/5530/14321110075_755b39c01c_c.jpg&quot; alt=&quot;Sunday moseying&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;  Katt (contemplating the tree above) says this is some variant of dogwood, except with wide, flat petals. They almost form a plane. I am into that.&lt;/p&gt;
&lt;p&gt;  There’s these lofts that you can see from the Alewife Linear Park/Minuteman Bikeway that we call “Expensive Lofts.” I think the development is actually called either Tannery Brook Row or Davis Lofts. (A friend of ours told us pointed out that &lt;a href=&quot;http://en.wikipedia.org/wiki/Tanning&quot;&gt;tanneries&lt;/a&gt; are actually fairly toxic, so it’s like this place is actually built on some poison burial grounds. If you don’t eat plants grown in the soil, you’re probably fine, though.)&lt;/p&gt;
&lt;p&gt;  &lt;a class=&quot;img-container&quot; href=&quot;https://www.flickr.com/photos/ignignokt/14317718821/in/set-72157644546343690&quot;&gt;&lt;img src=&quot;https://farm3.staticflickr.com/2939/14317718821_4147c41344_c.jpg&quot; alt=&quot;Sunday moseying&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;  We checked out the other side of it today, and it’s kinda nifty. There’s little ponds and gardens. This picture has some really out-of-control exposure, but some of the passages look like some kinda wooded elf town.&lt;/p&gt;
&lt;p&gt;  &lt;a class=&quot;img-container&quot; href=&quot;https://www.flickr.com/photos/ignignokt/14134420119/in/set-72157644546343690&quot;&gt;&lt;img src=&quot;https://farm6.staticflickr.com/5114/14134420119_69b29bcd8f_c.jpg&quot; alt=&quot;Sunday moseying&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;  There’s the ruins of a small house. In front, there are the matching ruins of a driveway. Perhaps there was some contention between that house and its bigger neighbor; small house lost. The big house razed the small house to its foundations, leaving just a bit standing as a monument to its power.&lt;/p&gt;
&lt;p&gt;  &lt;a class=&quot;img-container&quot; href=&quot;https://www.flickr.com/photos/ignignokt/14134529817/in/set-72157644546343690&quot;&gt;&lt;img src=&quot;https://farm3.staticflickr.com/2926/14134529817_9b62be418b_c.jpg&quot; alt=&quot;Sunday moseying&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;  I liked this secret porch set up. You can enjoy the outside while not being obvious to passersby. Wearing the proper camo, you could possibly even be invisible.&lt;/p&gt;
&lt;p&gt;  &lt;a class=&quot;img-container&quot; href=&quot;https://www.flickr.com/photos/ignignokt/14317713991/in/set-72157644546343690&quot;&gt;&lt;img src=&quot;https://farm3.staticflickr.com/2930/14317713991_e49c74cc95_c.jpg&quot; alt=&quot;Sunday moseying&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;  This was a pretty cool contrail.  &lt;/p&gt;
&lt;p&gt;  &lt;a class=&quot;img-container&quot; href=&quot;https://www.flickr.com/photos/ignignokt/14297907336/in/set-72157644546343690&quot;&gt;&lt;img src=&quot;https://farm6.staticflickr.com/5233/14297907336_c5d137a9ae_c.jpg&quot; alt=&quot;Sunday moseying&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;  A tree with a chunk missing by Davis Station. Was this tree struck by lightning? I thought it may have been &lt;a href=&quot;https://www.flickr.com/photos/ignignokt/8674311065/&quot;&gt;this tree&lt;/a&gt;, but that was a different one, blown over by the wind.&lt;/p&gt;
&lt;p&gt;  &lt;a class=&quot;img-container&quot; href=&quot;https://www.flickr.com/photos/ignignokt/14134386578/in/set-72157644546343690&quot;&gt;&lt;img src=&quot;https://farm6.staticflickr.com/5315/14134386578_1edd0bd69c_c.jpg&quot; alt=&quot;Sunday moseying&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;  Things were very dappled today. So much dappling!&lt;/p&gt;
&lt;p&gt;&lt;/section&gt;
BTW, if you also have a static html blog like this one and a Flickr account and want to put together a photo post with them, you may find it can be kind of annoying to get all the picture links you want out of a photo set. So, I wrote &lt;a href=&quot;https://github.com/jimkang/flickrset-to-html&quot;&gt;flickrset-to-html&lt;/a&gt; to do that for me, then just posted the resulting html into this post.&lt;/p&gt;
</description>
    </item>
    <item>
      <title>Between 480,000 and 960,000</title>
      <link>http://jimkang.com/weblog/articles/between-480000-and-960000/</link>
      <pubDate>Sat, 17 May 2014 20:00:00 -0400</pubDate>
      <guid isPermaLink="true">http://jimkang.com/weblog/articles/between-480000-and-960000/</guid>
      <author></author>
      <description>&lt;style&gt;
  .tagbox {
    font-size: 32px;
  }

  .pipe {
    fill: hsla(0, 100%, 0%, 0.0);
    stroke-width: 1;
    stroke: #888;
  }

  svg {
    font-size: 20px;
  }

  svg text {
    fill: #585858;
  }

  .station {
    stroke: #777;
    stroke-width: 3;
    fill: #fff;
  }

  .station-label {
    font-size: 24px;
    text-align: center;
    text-anchor: middle;
  }

  #block-layer text {
    fill: hsl(0, 60%, 60%);
  }
&lt;/style&gt;

&lt;p&gt;I’ve been working on a &lt;a href=&quot;https://github.com/jimkang/roguemap-parse-stream&quot;&gt;simple streaming parser&lt;/a&gt; for plain text maps. While writing the browser example (I originally wrote it for Node), I began to wonder if I could use the &lt;a href=&quot;https://github.com/substack/stream-handbook&quot;&gt;Power of Streaming&lt;/a&gt; to use it to render some really huge maps.&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;more&quot;&gt;&lt;/span&gt;
I gave it a map file with about 16 million entities that were each to render to three SVG entities. After fiddling with each of the streams involved to make them respect backpressure, I was able to keep the browser responsive for a while while it rendered these entities. However, at some point, the page would inevitably become unresponsive and the tab would crash.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Who to blame?&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;I stepped away from the JavaScript and made a huge static HTML file. It has 960,000 SVG &lt;code&gt;&amp;lt;g&amp;gt;&lt;/code&gt; elements, each containing a &lt;code&gt;&amp;lt;rect&amp;gt;&lt;/code&gt; and &lt;code&gt;&amp;lt;text&amp;gt;&lt;/code&gt; element.&lt;/p&gt;
&lt;p&gt;Chrome 34.0.1847.131 quits on it (“Aw, Snap!” page) on a Mac running Mavericks with a 2.8 GHz Core i7 and 16 GB RAM. &lt;a href=&quot;https://dl.dropboxusercontent.com/u/263768/lotsofelements.html&quot;&gt;You can try it yourself.&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;(However, Chrome &lt;em&gt;will&lt;/em&gt; successfully load a page with 480,000 &lt;code&gt;&amp;lt;g&amp;gt;&lt;/code&gt;s!)&lt;/p&gt;
&lt;p&gt;So, if you find yourself having to create this many elements via JavaScript, keep in mind that &lt;em&gt;the fans may scream because of sheer rendering stress, not necessarily because there’s something wrong with your code.&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Streaming into a lagoon&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;I think there’s a lesson here about streaming as well. Streams are about processing data a manageable chunk at a time, but if you can’t dispose of those chunks after you’re done with them, those chunks pool up, and the chunk-at-a-time benefit of streams is negated. &lt;/p&gt;
&lt;p&gt;In the situation I set up &amp;mdash; piping a huge text file to a parser stream, then piping the parsed tokens to a renderer &amp;mdash; streams of text were transformed into streams of token objects which were then transformed into SVG elements. But those SVG elements did not “pass through.” They piled up in the DOM, eating up memory.&lt;/p&gt;
&lt;p&gt;&lt;a name=&quot;stream-overload-diagram-anchor&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;svg width=&quot;800&quot; height=&quot;600&quot; id=&quot;stream-overload-diagram&quot;&gt;
  &lt;defs&gt;
    &lt;radialGradient id=&quot;sphere-gradient&quot;&gt;
      &lt;stop offset=&quot;0&quot; stop-color=&quot;hsl(30, 100%, 80%)&quot;/&gt;
      &lt;stop offset=&quot;0.75&quot; stop-color=&quot;hsl(20, 100%, 60%)&quot;&gt;
        &lt;animate attributeName=&quot;offset&quot; values=&quot;0.75;0.9;0.75&quot; keySplines=&quot;0.1 0.8 0.2 1; 0.1 0.8 0.2 1; 0.1 0.8 0.2 1&quot; dur=&quot;4s&quot; repeatCount=&quot;indefinite&quot; /&gt;
      &lt;/stop&gt;
      &lt;stop offset=&quot;1&quot; stop-color=&quot;hsl(10, 100%, 50%)&quot;&gt;
        &lt;animate attributeName=&quot;stop-color&quot; values=&quot;hsl(10, 100%, 50%);hsl(40, 100%, 70%);hsl(10, 100%, 50%)&quot; keySplines=&quot;0.1 0.8 0.2 1; 0.1 0.8 0.2 1; 0.1 0.8 0.2 1&quot; dur=&quot;4s&quot; repeatCount=&quot;indefinite&quot; /&gt;
      &lt;/stop&gt;
    &lt;/radialGradient&gt;

    &lt;linearGradient id=&quot;pipe-gradient&quot; x1=&quot;0&quot; y1=&quot;0&quot; x2=&quot;100%&quot;, y2=&quot;0&quot;&gt;
      &lt;stop offset=&quot;0&quot; stop-color=&quot;hsl(200, 100%, 10%)&quot; /&gt;
      &lt;stop offset=&quot;0.5&quot; stop-color=&quot;hsl(180, 100%, 20%)&quot;&gt;
        &lt;animate attributeName=&quot;offset&quot; values=&quot;0.5;0.9;0.5&quot; keySplines=&quot;0.1 0.8 0.2 1; 0.1 0.8 0.2 1; 0.1 0.8 0.2 1&quot; dur=&quot;10s&quot; repeatCount=&quot;indefinite&quot; /&gt;
      &lt;/stop&gt;
      &lt;stop offset=&quot;1&quot; stop-color=&quot;hsl(200, 100%, 30%)&quot;&gt;
      &lt;/stop&gt;
    &lt;/linearGradient&gt;
  &lt;/defs&gt;
  &lt;g class=&quot;background-layer&quot;&gt;
  &lt;/g&gt;
  &lt;g id=&quot;chunk-layer&quot;&gt;
  &lt;/g&gt;
  &lt;g id=&quot;static-layer&quot;&gt;
    &lt;g&gt;
      &lt;rect id=&quot;reader&quot; x=&quot;30&quot; y=&quot;300&quot; width=&quot;200&quot; height=&quot;120&quot; 
      class=&quot;station&quot; /&gt;
      &lt;text x=&quot;30&quot; dx=&quot;4.2em&quot; y=&quot;300&quot; dy=&quot;2.8em&quot; width=&quot;200&quot; class=&quot;station-label&quot;&gt;Internet requester&lt;/text&gt;
    &lt;/g&gt;

    &lt;g&gt;
      &lt;path d=&quot; M 250 4
                L 440 4
                L 345 154
                Z&quot;
            class=&quot;station&quot;
            id=&quot;parser&quot; x=&quot;250&quot; y=&quot;4&quot; width=&quot;100&quot; height=&quot;100&quot; /&gt;
      &lt;text x=&quot;250&quot; y=&quot;4&quot; dx=&quot;4em&quot; dy=&quot;2.35em&quot; class=&quot;station-label&quot;&gt;Parser&lt;/text&gt;
    &lt;/g&gt;

    &lt;g&gt;
      &lt;circle id=&quot;renderer&quot; x=&quot;525&quot; y=&quot;175&quot; width=&quot;150&quot; height=&quot;150&quot;
      r=&quot;75&quot; cx=&quot;600&quot; cy=&quot;250&quot; class=&quot;station&quot;&gt;&lt;/circle&gt;
      &lt;text x=&quot;525&quot; y=&quot;175&quot; dx=&quot;3.1em&quot; dy=&quot;2.25em&quot; class=&quot;station-label&quot;&gt;Renderer&lt;/text&gt;
    &lt;/g&gt;
  &lt;/g&gt;
  &lt;g id=&quot;block-layer&quot;&gt;
  &lt;/g&gt;

&lt;/svg&gt;  

&lt;p&gt;Not every object benefits from being hit with a hammer, and some situations benefit less than others from having a streaming pattern applied.&lt;/p&gt;
&lt;script src=&quot;d3.v3.min.js&quot;&gt;&lt;/script&gt;
&lt;script src=&quot;basicrequest.js&quot;&gt;&lt;/script&gt;
&lt;script src=&quot;wordgetter.js&quot;&gt;&lt;/script&gt;
&lt;script src=&quot;scrollwatcher.js&quot;&gt;&lt;/script&gt;
&lt;script src=&quot;gravitybox.js&quot;&gt;&lt;/script&gt;
&lt;script src=&quot;idmaker.js&quot;&gt;&lt;/script&gt;
&lt;script src=&quot;mover.js&quot;&gt;&lt;/script&gt;
&lt;script src=&quot;flowcontroller.js&quot;&gt;&lt;/script&gt;
</description>
    </item>
    <item>
      <title>How quadtrees work</title>
      <link>http://jimkang.com/weblog/articles/quadtreevis/</link>
      <pubDate>Mon, 21 Apr 2014 20:00:00 -0400</pubDate>
      <guid isPermaLink="true">http://jimkang.com/weblog/articles/quadtreevis/</guid>
      <author></author>
      <description>&lt;p&gt;An interactive explanation of quadtrees relate to spaces, with some details about D3’s implementation of the quadtree.&lt;/p&gt;
</description>
    </item>
    <item>
      <title>Writing Chrome Extensions and bookmarklets that mess with the DOM</title>
      <link>http://jimkang.com/weblog/articles/writing-dom-modifying-extensions/</link>
      <pubDate>Sat, 29 Mar 2014 20:00:00 -0400</pubDate>
      <guid isPermaLink="true">http://jimkang.com/weblog/articles/writing-dom-modifying-extensions/</guid>
      <author></author>
      <description>&lt;p&gt;Let’s say you want to vandalize with a web page that you didn’t author. You want to see the New York Times in Comic Sans. Or you want to show only the last letter of every paragraph in the &lt;a href=&quot;https://developer.apple.com/library/mac/documentation/UserExperience/Conceptual/AppleHIGuidelines/Intro/Intro.html&quot;&gt;HIG&lt;/a&gt; to see if there’s some &lt;a href=&quot;http://en.wikipedia.org/wiki/Bible_code&quot;&gt;secret message&lt;/a&gt;. Or perhaps you want to do something useful with the web page.&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;more&quot;&gt;&lt;/span&gt;
One way to do this is open the developer tools in your browser and directly change things in the &lt;a href=&quot;https://developer.mozilla.org/en-US/docs/DOM&quot;&gt;DOM&lt;/a&gt;. But if you want the world to also be able to do the same, you need to ship a program that does it. For quite a long time, people have been used &lt;a href=&quot;https://addons.mozilla.org/en-US/firefox/addon/greasemonkey/&quot;&gt;Greasemonkey&lt;/a&gt; scripts in Firefox deliver them.&lt;/p&gt;
&lt;p&gt;On Chrome, &lt;a href=&quot;http://developer.chrome.com/extensions/index&quot;&gt;Chrome extensions&lt;/a&gt; do this. There’s also &lt;a href=&quot;http://en.wikipedia.org/wiki/Bookmarklet&quot;&gt;bookmarklets&lt;/a&gt;, which are less capable but will work across all browsers.&lt;/p&gt;
&lt;p&gt;Here’s a look at what it takes to make a DOM-altering Chrome extension or bookmarklet. (If you know that what you want to do is make a bookmarklet, though, I recommend you just &lt;a href=&quot;#contentscript&quot;&gt;skip down to the content script and bookmarklet parts&lt;/a&gt;.)&lt;/p&gt;
&lt;h1&gt;Extension structure&lt;/h1&gt;

&lt;p&gt;A Chrome extension is a package of JavaScript, CSS, and resource files. They’re balled up into a crx file on the Chrome Web Store, but in development, you can load an unpacked directory in &lt;a href=&quot;chrome://extensions&quot;&gt;chrome://extensions&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;There’s a &lt;a href=&quot;http://developer.chrome.com/extensions/manifest&quot;&gt;manifest.json&lt;/a&gt; that you need to fill out. Salient fields:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&amp;quot;permissions&amp;quot;: [
  &amp;quot;https://twitter.com/*&amp;quot;
],
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;This tells Chrome that this extension will operate on pages that have URLs that begin with &lt;code&gt;https://twitter.com&lt;/code&gt;.&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&amp;quot;browser_action&amp;quot;: {
    &amp;quot;default_icon&amp;quot;: {
      &amp;quot;19&amp;quot;: &amp;quot;onebyone_icon_19.png&amp;quot;,
      &amp;quot;38&amp;quot;: &amp;quot;onebyone_icon_38.png&amp;quot;
    }
  },
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;If you specify a &lt;code&gt;browser_action&lt;/code&gt; field, Chrome will put a button in the toolbar for you using the image files you specify. There’s a button click event your script can listen for. You can use this to do something when the user clicks your extension’s button.&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&amp;quot;background&amp;quot;: {
  &amp;quot;scripts&amp;quot;: [&amp;quot;node_modules/scriptchain/scriptchain.js&amp;quot;, &amp;quot;background.js&amp;quot;],
  &amp;quot;persistent&amp;quot;: false
},
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;Here, we’re specifying the &lt;a href=&quot;https://developer.chrome.com/extensions/background_pages&quot;&gt;background scripts&lt;/a&gt; we want to have at the ready to respond to user-instigated events. Usually, I have a background.js file which listens for clicks to the extension’s button, then executes scripts in the context of the active tab. Executing scripts in the context of the active tab is kinda like going to the web page you want to mess with, then running code in the JavaScript console.&lt;/p&gt;
&lt;p&gt;Background script example:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;var scriptchain = createScriptChain(
  [&amp;#39;readability.js&amp;#39;, &amp;#39;parser.js&amp;#39;, &amp;#39;onebyone.js&amp;#39;], null, false
);

chrome.browserAction.onClicked.addListener(function respondToClick(tab) {
  scriptchain.loadChain();
});
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;It’s registering for the &lt;code&gt;chrome.browserAction.onClicked&lt;/code&gt; event and responding to that event by calling &lt;code&gt;scriptchain.loadChain&lt;/code&gt;. &lt;a href=&quot;https://www.npmjs.org/package/scriptchain&quot;&gt;scriptchain&lt;/a&gt; is a helper I wrote that runs a list of scripts on the active tab in order. It’s a convenience, but alternatively, you can call &lt;a href=&quot;http://developer.chrome.com/extensions/tabs#method-executeScript&quot;&gt;chrome.tabs.executeScript&lt;/a&gt; to run your scripts on the tab.&lt;/p&gt;
&lt;p&gt;To sum up, the flow of execution goes like this:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;User visits a page that is included in the manifest’s &lt;code&gt;permissions&lt;/code&gt; property.&lt;/li&gt;
&lt;li&gt;Chrome loads the background scripts you specified in the manifest. One of them subscribes to the browser button click event.&lt;/li&gt;
&lt;li&gt;User clicks on the extension button in the Chrome toolbar.&lt;/li&gt;
&lt;li&gt;The background script gets the event and responds by executing a script in the context of the tab.&lt;/li&gt;
&lt;li&gt;That script does some cool stuff with the web page in the tab.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;a name=&quot;contentscript&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h1&gt;The content script: Actually doing stuff to the web page, finally&lt;/h1&gt;

&lt;p&gt;Once you’re finally executing code in the context of the web page, it’s a lot like being at a web page, opening the Web Inspector console, and running code. This is where you do your business, so to speak.&lt;/p&gt;
&lt;p&gt;Typically, you want to select DOM elements, read them and then change them or add to them or delete them. You may want to avoid including a big library like jQuery that abstracts that kind of thing in order to keep things light, especially if you’re going to be creating a bookmarklet version of your extension. Fortunately, the DOM API, while clunkier, is &lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/API/document.querySelectorAll&quot;&gt;not really all that different&lt;/a&gt; from the abstraction libraries these days.&lt;/p&gt;
&lt;p&gt;Here’s an example from &lt;a href=&quot;http://jimkang.com/twittershuffle/&quot;&gt;Twitter Shuffle&lt;/a&gt;, an extension and bookmarklet I wrote to shuffle around tweets and their authors for some misattribution fun and confusion. (&lt;a href=&quot;https://github.com/jimkang/twitter-shuffle-chrome-extension&quot;&gt;The unabridged file is here.&lt;/a&gt;)&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;((function shuffleTweets() {
  ...

  var tweetTexts = document.querySelectorAll(&amp;#39;.tweet-text&amp;#39;);
  var tweetContents = [];
  tweetTexts.forEach(function getContents(tweet) {
    tweetContents.push(tweet.innerHTML);
  });
  var shuffledContents = shuffle(tweetContents);

  tweetTexts.forEach(function replaceWithShuffled(tweetText, i) {
    tweetText.innerHTML = shuffledContents[i];
  });

})());
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;Here is where you’d do the thing you want to do with the web page. You could do anything here. It’s like a &lt;a href=&quot;http://html5zombo.com/&quot;&gt;Zombo.com&lt;/a&gt; inside of that &lt;a href=&quot;http://benalman.com/news/2010/11/immediately-invoked-function-expression/&quot;&gt;IIFE&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;&lt;a name=&quot;bookmarkletize&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h1&gt;Bookmarkletize&lt;/h1&gt;

&lt;p&gt;So, how would this work as a bookmarklet? You just have get a bookmark created on your users’ browsers that has a URL that looks like this:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;javascript:&amp;lt;Your IIFE&amp;gt;
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;You can’t really tell most users “copy this code, then edit a bookmark and paste it into the URL field.” You need to create a web page that has a link that contains your code in the &lt;code&gt;href&lt;/code&gt; and tell them to drag it to the bookmarks bar. Like this:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&amp;lt;p&amp;gt;Drag this to your bookmarks bar:&amp;lt;/p&amp;gt;      
&amp;lt;p&amp;gt;
  &amp;lt;a class=&amp;quot;bookmarklet&amp;quot; href=&amp;quot;javascript:&amp;lt;Your IIFE&amp;quot;&amp;gt;Greatest Bookmarklet of All Time!&amp;lt;/a&amp;gt;
&amp;lt;/p&amp;gt;
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;It’d be great if bookmarklet installation could be even simpler (some people don’t have their bookmarks bar showing), but I think it’s the best we can do for now.&lt;/p&gt;
&lt;p&gt;To squeeze your IIFE into an &lt;code&gt;href&lt;/code&gt;, you’ll need to crunch it down to one line Minification wouldn’t hurt, either. You can do it by hand, but I recommend your run it through &lt;a href=&quot;https://github.com/mishoo/UglifyJS2&quot;&gt;UglifyJS&lt;/a&gt;. On a Mac, you do this:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;uglifyjs yourcontentscript.js -m | pbcopy
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;The minified code will be in your pasteboard. You can cmd+V it into your &lt;code&gt;href=&amp;quot;javascript:&amp;quot;&lt;/code&gt;.&lt;/p&gt;
&lt;h1&gt;Why even bother with a Chrome extension, then?&lt;/h1&gt;

&lt;p&gt;Well, there’s stuff you can do in a Chrome extension that you can’t do in a bookmarklet. Chrome extensions are also easier to install. At least on Chrome. But yeah, if you know you don’t need any of that, just make a bookmarklet.&lt;/p&gt;
</description>
    </item>
  </channel>
</rss>